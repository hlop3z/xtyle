!function(t,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define([],n):"object"==typeof exports?exports.preact=n():t.preact=n()}(self,(()=>(()=>{"use strict";var t={d:(n,e)=>{for(var i in e)t.o(e,i)&&!t.o(n,i)&&Object.defineProperty(n,i,{enumerable:!0,get:e[i]})},o:(t,n)=>Object.prototype.hasOwnProperty.call(t,n),r:t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}},n={};t.r(n),t.d(n,{$ready:()=>Vt,batch:()=>at,computed:()=>Nt,effect:()=>Tt,h:()=>p,render:()=>j,signal:()=>kt,useCallback:()=>et,useComputed:()=>Ft,useEffect:()=>Z,useMemo:()=>nt,useReducer:()=>Y,useRef:()=>tt,useSignal:()=>jt,useSignalEffect:()=>Lt,useState:()=>X});var e,i,_,o,r,u,f,l={},s=[],c=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,a=Array.isArray;function h(t,n){for(var e in n)t[e]=n[e];return t}function v(t){var n=t.parentNode;n&&n.removeChild(t)}function p(t,n,i){var _,o,r,u={};for(r in n)"key"==r?_=n[r]:"ref"==r?o=n[r]:u[r]=n[r];if(arguments.length>2&&(u.children=arguments.length>3?e.call(arguments,2):i),"function"==typeof t&&null!=t.defaultProps)for(r in t.defaultProps)void 0===u[r]&&(u[r]=t.defaultProps[r]);return d(t,u,_,o,null)}function d(t,n,e,o,r){var u={type:t,props:n,key:e,ref:o,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:null==r?++_:r};return null==r&&null!=i.vnode&&i.vnode(u),u}function y(t){return t.children}function m(t,n){this.props=t,this.context=n}function b(t,n){if(null==n)return t.__?b(t.__,t.__.__k.indexOf(t)+1):null;for(var e;n<t.__k.length;n++)if(null!=(e=t.__k[n])&&null!=e.__e)return e.__e;return"function"==typeof t.type?b(t):null}function g(t){var n,e;if(null!=(t=t.__)&&null!=t.__c){for(t.__e=t.__c.base=null,n=0;n<t.__k.length;n++)if(null!=(e=t.__k[n])&&null!=e.__e){t.__e=t.__c.base=e.__e;break}return g(t)}}function S(t){(!t.__d&&(t.__d=!0)&&o.push(t)&&!k.__r++||r!==i.debounceRendering)&&((r=i.debounceRendering)||u)(k)}function k(){var t,n,e,i,_,r,u,l,s;for(o.sort(f);t=o.shift();)t.__d&&(n=o.length,i=void 0,_=void 0,r=void 0,l=(u=(e=t).__v).__e,(s=e.__P)&&(i=[],_=[],(r=h({},u)).__v=u.__v+1,$(s,u,r,e.__n,void 0!==s.ownerSVGElement,null!=u.__h?[l]:null,i,null==l?b(u):l,u.__h,_),T(i,u,_),u.__e!=l&&g(u)),o.length>n&&o.sort(f));k.__r=0}function x(t,n,e,i,_,o,r,u,f,c,h){var v,p,m,b,g,S,k,x,N,U,P=0,C=i&&i.__k||s,T=C.length,O=T,A=n.length;for(e.__k=[],v=0;v<A;v++)null!=(b=e.__k[v]=null==(b=n[v])||"boolean"==typeof b||"function"==typeof b?null:"string"==typeof b||"number"==typeof b||"bigint"==typeof b?d(null,b,null,null,b):a(b)?d(y,{children:b},null,null,null):b.__b>0?d(b.type,b.props,b.key,b.ref?b.ref:null,b.__v):b)&&(b.__=e,b.__b=e.__b+1,-1===(x=H(b,C,k=v+P,O))?m=l:(m=C[x]||l,C[x]=void 0,O--),$(t,b,m,_,o,r,u,f,c,h),g=b.__e,(p=b.ref)&&m.ref!=p&&(m.ref&&D(m.ref,null,b),h.push(p,b.__c||g,b)),null!=g&&(null==S&&(S=g),U=!(N=m===l||null===m.__v)&&x===k,N?-1==x&&P--:x!==k&&(x===k+1?(P++,U=!0):x>k?O>A-k?(P+=x-k,U=!0):P--:P=x<k&&x==k-1?x-k:0),k=v+P,U=U||x==v&&!N,"function"!=typeof b.type||x===k&&m.__k!==b.__k?"function"==typeof b.type||U?void 0!==b.__d?(f=b.__d,b.__d=void 0):f=g.nextSibling:f=E(t,g,f):f=w(b,f,t),"function"==typeof e.type&&(e.__d=f)));for(e.__e=S,v=T;v--;)null!=C[v]&&("function"==typeof e.type&&null!=C[v].__e&&C[v].__e==e.__d&&(e.__d=C[v].__e.nextSibling),M(C[v],C[v]))}function w(t,n,e){for(var i,_=t.__k,o=0;_&&o<_.length;o++)(i=_[o])&&(i.__=t,n="function"==typeof i.type?w(i,n,e):E(e,i.__e,n));return n}function E(t,n,e){return null==e||e.parentNode!==t?t.insertBefore(n,null):n==e&&null!=n.parentNode||t.insertBefore(n,e),n.nextSibling}function H(t,n,e,i){var _=t.key,o=t.type,r=e-1,u=e+1,f=n[e];if(null===f||f&&_==f.key&&o===f.type)return e;if(i>(null!=f?1:0))for(;r>=0||u<n.length;){if(r>=0){if((f=n[r])&&_==f.key&&o===f.type)return r;r--}if(u<n.length){if((f=n[u])&&_==f.key&&o===f.type)return u;u++}}return-1}function N(t,n,e){"-"===n[0]?t.setProperty(n,null==e?"":e):t[n]=null==e?"":"number"!=typeof e||c.test(n)?e:e+"px"}function U(t,n,e,i,_){var o;t:if("style"===n)if("string"==typeof e)t.style.cssText=e;else{if("string"==typeof i&&(t.style.cssText=i=""),i)for(n in i)e&&n in e||N(t.style,n,"");if(e)for(n in e)i&&e[n]===i[n]||N(t.style,n,e[n])}else if("o"===n[0]&&"n"===n[1])o=n!==(n=n.replace(/Capture$/,"")),n=n.toLowerCase()in t?n.toLowerCase().slice(2):n.slice(2),t.l||(t.l={}),t.l[n+o]=e,e?i||t.addEventListener(n,o?C:P,o):t.removeEventListener(n,o?C:P,o);else if("dangerouslySetInnerHTML"!==n){if(_)n=n.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if("width"!==n&&"height"!==n&&"href"!==n&&"list"!==n&&"form"!==n&&"tabIndex"!==n&&"download"!==n&&"rowSpan"!==n&&"colSpan"!==n&&n in t)try{t[n]=null==e?"":e;break t}catch(t){}"function"==typeof e||(null==e||!1===e&&"-"!==n[4]?t.removeAttribute(n):t.setAttribute(n,e))}}function P(t){return this.l[t.type+!1](i.event?i.event(t):t)}function C(t){return this.l[t.type+!0](i.event?i.event(t):t)}function $(t,n,e,_,o,r,u,f,l,s){var c,v,p,d,b,g,S,k,w,E,H,N,U,P,C,$=n.type;if(void 0!==n.constructor)return null;null!=e.__h&&(l=e.__h,f=n.__e=e.__e,n.__h=null,r=[f]),(c=i.__b)&&c(n);try{t:if("function"==typeof $){if(k=n.props,w=(c=$.contextType)&&_[c.__c],E=c?w?w.props.value:c.__:_,e.__c?S=(v=n.__c=e.__c).__=v.__E:("prototype"in $&&$.prototype.render?n.__c=v=new $(k,E):(n.__c=v=new m(k,E),v.constructor=$,v.render=A),w&&w.sub(v),v.props=k,v.state||(v.state={}),v.context=E,v.__n=_,p=v.__d=!0,v.__h=[],v._sb=[]),null==v.__s&&(v.__s=v.state),null!=$.getDerivedStateFromProps&&(v.__s==v.state&&(v.__s=h({},v.__s)),h(v.__s,$.getDerivedStateFromProps(k,v.__s))),d=v.props,b=v.state,v.__v=n,p)null==$.getDerivedStateFromProps&&null!=v.componentWillMount&&v.componentWillMount(),null!=v.componentDidMount&&v.__h.push(v.componentDidMount);else{if(null==$.getDerivedStateFromProps&&k!==d&&null!=v.componentWillReceiveProps&&v.componentWillReceiveProps(k,E),!v.__e&&(null!=v.shouldComponentUpdate&&!1===v.shouldComponentUpdate(k,v.__s,E)||n.__v===e.__v)){for(n.__v!==e.__v&&(v.props=k,v.state=v.__s,v.__d=!1),n.__e=e.__e,n.__k=e.__k,n.__k.forEach((function(t){t&&(t.__=n)})),H=0;H<v._sb.length;H++)v.__h.push(v._sb[H]);v._sb=[],v.__h.length&&u.push(v);break t}null!=v.componentWillUpdate&&v.componentWillUpdate(k,v.__s,E),null!=v.componentDidUpdate&&v.__h.push((function(){v.componentDidUpdate(d,b,g)}))}if(v.context=E,v.props=k,v.__P=t,v.__e=!1,N=i.__r,U=0,"prototype"in $&&$.prototype.render){for(v.state=v.__s,v.__d=!1,N&&N(n),c=v.render(v.props,v.state,v.context),P=0;P<v._sb.length;P++)v.__h.push(v._sb[P]);v._sb=[]}else do{v.__d=!1,N&&N(n),c=v.render(v.props,v.state,v.context),v.state=v.__s}while(v.__d&&++U<25);v.state=v.__s,null!=v.getChildContext&&(_=h(h({},_),v.getChildContext())),p||null==v.getSnapshotBeforeUpdate||(g=v.getSnapshotBeforeUpdate(d,b)),x(t,a(C=null!=c&&c.type===y&&null==c.key?c.props.children:c)?C:[C],n,e,_,o,r,u,f,l,s),v.base=n.__e,n.__h=null,v.__h.length&&u.push(v),S&&(v.__E=v.__=null)}else null==r&&n.__v===e.__v?(n.__k=e.__k,n.__e=e.__e):n.__e=O(e.__e,n,e,_,o,r,u,l,s);(c=i.diffed)&&c(n)}catch(t){n.__v=null,(l||null!=r)&&(n.__e=f,n.__h=!!l,r[r.indexOf(f)]=null),i.__e(t,n,e)}}function T(t,n,e){for(var _=0;_<e.length;_++)D(e[_],e[++_],e[++_]);i.__c&&i.__c(n,t),t.some((function(n){try{t=n.__h,n.__h=[],t.some((function(t){t.call(n)}))}catch(t){i.__e(t,n.__v)}}))}function O(t,n,i,_,o,r,u,f,s){var c,h,p,d=i.props,y=n.props,m=n.type,g=0;if("svg"===m&&(o=!0),null!=r)for(;g<r.length;g++)if((c=r[g])&&"setAttribute"in c==!!m&&(m?c.localName===m:3===c.nodeType)){t=c,r[g]=null;break}if(null==t){if(null===m)return document.createTextNode(y);t=o?document.createElementNS("http://www.w3.org/2000/svg",m):document.createElement(m,y.is&&y),r=null,f=!1}if(null===m)d===y||f&&t.data===y||(t.data=y);else{if(r=r&&e.call(t.childNodes),h=(d=i.props||l).dangerouslySetInnerHTML,p=y.dangerouslySetInnerHTML,!f){if(null!=r)for(d={},g=0;g<t.attributes.length;g++)d[t.attributes[g].name]=t.attributes[g].value;(p||h)&&(p&&(h&&p.__html==h.__html||p.__html===t.innerHTML)||(t.innerHTML=p&&p.__html||""))}if(function(t,n,e,i,_){var o;for(o in e)"children"===o||"key"===o||o in n||U(t,o,null,e[o],i);for(o in n)_&&"function"!=typeof n[o]||"children"===o||"key"===o||"value"===o||"checked"===o||e[o]===n[o]||U(t,o,n[o],e[o],i)}(t,y,d,o,f),p)n.__k=[];else if(x(t,a(g=n.props.children)?g:[g],n,i,_,o&&"foreignObject"!==m,r,u,r?r[0]:i.__k&&b(i,0),f,s),null!=r)for(g=r.length;g--;)null!=r[g]&&v(r[g]);f||("value"in y&&void 0!==(g=y.value)&&(g!==t.value||"progress"===m&&!g||"option"===m&&g!==d.value)&&U(t,"value",g,d.value,!1),"checked"in y&&void 0!==(g=y.checked)&&g!==t.checked&&U(t,"checked",g,d.checked,!1))}return t}function D(t,n,e){try{"function"==typeof t?t(n):t.current=n}catch(t){i.__e(t,e)}}function M(t,n,e){var _,o;if(i.unmount&&i.unmount(t),(_=t.ref)&&(_.current&&_.current!==t.__e||D(_,null,n)),null!=(_=t.__c)){if(_.componentWillUnmount)try{_.componentWillUnmount()}catch(t){i.__e(t,n)}_.base=_.__P=null,t.__c=void 0}if(_=t.__k)for(o=0;o<_.length;o++)_[o]&&M(_[o],n,e||"function"!=typeof t.type);e||null==t.__e||v(t.__e),t.__=t.__e=t.__d=void 0}function A(t,n,e){return this.constructor(t,e)}function j(t,n,_){var o,r,u,f;i.__&&i.__(t,n),r=(o="function"==typeof _)?null:_&&_.__k||n.__k,u=[],f=[],$(n,t=(!o&&_||n).__k=p(y,null,[t]),r||l,l,void 0!==n.ownerSVGElement,!o&&_?[_]:r?null:n.firstChild?e.call(n.childNodes):null,u,!o&&_?_:r?r.__e:n.firstChild,o,f),T(u,t,f)}e=s.slice,i={__e:function(t,n,e,i){for(var _,o,r;n=n.__;)if((_=n.__c)&&!_.__)try{if((o=_.constructor)&&null!=o.getDerivedStateFromError&&(_.setState(o.getDerivedStateFromError(t)),r=_.__d),null!=_.componentDidCatch&&(_.componentDidCatch(t,i||{}),r=_.__d),r)return _.__E=_}catch(n){t=n}throw t}},_=0,m.prototype.setState=function(t,n){var e;e=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=h({},this.state),"function"==typeof t&&(t=t(h({},e),this.props)),t&&h(e,t),null!=t&&this.__v&&(n&&this._sb.push(n),S(this))},m.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),S(this))},m.prototype.render=y,o=[],u="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,f=function(t,n){return t.__v.__b-n.__v.__b},k.__r=0;var F,L,V,W,R=0,q=[],B=[],I=i.__b,G=i.__r,z=i.diffed,J=i.__c,K=i.unmount;function Q(t,n){i.__h&&i.__h(L,t,R||n),R=0;var e=L.__H||(L.__H={__:[],__h:[]});return t>=e.__.length&&e.__.push({__V:B}),e.__[t]}function X(t){return R=1,Y(lt,t)}function Y(t,n,e){var i=Q(F++,2);if(i.t=t,!i.__c&&(i.__=[e?e(n):lt(void 0,n),function(t){var n=i.__N?i.__N[0]:i.__[0],e=i.t(n,t);n!==e&&(i.__N=[e,i.__[1]],i.__c.setState({}))}],i.__c=L,!L.u)){var _=function(t,n,e){if(!i.__c.__H)return!0;var _=i.__c.__H.__.filter((function(t){return t.__c}));if(_.every((function(t){return!t.__N})))return!o||o.call(this,t,n,e);var r=!1;return _.forEach((function(t){if(t.__N){var n=t.__[0];t.__=t.__N,t.__N=void 0,n!==t.__[0]&&(r=!0)}})),!(!r&&i.__c.props===t)&&(!o||o.call(this,t,n,e))};L.u=!0;var o=L.shouldComponentUpdate,r=L.componentWillUpdate;L.componentWillUpdate=function(t,n,e){if(this.__e){var i=o;o=void 0,_(t,n,e),o=i}r&&r.call(this,t,n,e)},L.shouldComponentUpdate=_}return i.__N||i.__}function Z(t,n){var e=Q(F++,3);!i.__s&&ft(e.__H,n)&&(e.__=t,e.i=n,L.__H.__h.push(e))}function tt(t){return R=5,nt((function(){return{current:t}}),[])}function nt(t,n){var e=Q(F++,7);return ft(e.__H,n)?(e.__V=t(),e.i=n,e.__h=t,e.__V):e.__}function et(t,n){return R=8,nt((function(){return t}),n)}function it(){for(var t;t=q.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(rt),t.__H.__h.forEach(ut),t.__H.__h=[]}catch(n){t.__H.__h=[],i.__e(n,t.__v)}}i.__b=function(t){L=null,I&&I(t)},i.__r=function(t){G&&G(t),F=0;var n=(L=t.__c).__H;n&&(V===L?(n.__h=[],L.__h=[],n.__.forEach((function(t){t.__N&&(t.__=t.__N),t.__V=B,t.__N=t.i=void 0}))):(n.__h.forEach(rt),n.__h.forEach(ut),n.__h=[],F=0)),V=L},i.diffed=function(t){z&&z(t);var n=t.__c;n&&n.__H&&(n.__H.__h.length&&(1!==q.push(n)&&W===i.requestAnimationFrame||((W=i.requestAnimationFrame)||ot)(it)),n.__H.__.forEach((function(t){t.i&&(t.__H=t.i),t.__V!==B&&(t.__=t.__V),t.i=void 0,t.__V=B}))),V=L=null},i.__c=function(t,n){n.some((function(t){try{t.__h.forEach(rt),t.__h=t.__h.filter((function(t){return!t.__||ut(t)}))}catch(e){n.some((function(t){t.__h&&(t.__h=[])})),n=[],i.__e(e,t.__v)}})),J&&J(t,n)},i.unmount=function(t){K&&K(t);var n,e=t.__c;e&&e.__H&&(e.__H.__.forEach((function(t){try{rt(t)}catch(t){n=t}})),e.__H=void 0,n&&i.__e(n,e.__v))};var _t="function"==typeof requestAnimationFrame;function ot(t){var n,e=function(){clearTimeout(i),_t&&cancelAnimationFrame(n),setTimeout(t)},i=setTimeout(e,100);_t&&(n=requestAnimationFrame(e))}function rt(t){var n=L,e=t.__c;"function"==typeof e&&(t.__c=void 0,e()),L=n}function ut(t){var n=L;t.__c=t.__(),L=n}function ft(t,n){return!t||t.length!==n.length||n.some((function(n,e){return n!==t[e]}))}function lt(t,n){return"function"==typeof n?n(t):n}function st(){throw new Error("Cycle detected")}function ct(){if(yt>1)yt--;else{for(var t,n=!1;void 0!==dt;){var e=dt;for(dt=void 0,mt++;void 0!==e;){var i=e.o;if(e.o=void 0,e.f&=-3,!(8&e.f)&&xt(e))try{e.c()}catch(e){n||(t=e,n=!0)}e=i}}if(mt=0,yt--,n)throw t}}function at(t){if(yt>0)return t();yt++;try{return t()}finally{ct()}}var ht,vt,pt=void 0,dt=void 0,yt=0,mt=0,bt=0;function gt(t){if(void 0!==pt){var n=t.n;if(void 0===n||n.t!==pt)return n={i:0,S:t,p:pt.s,n:void 0,t:pt,e:void 0,x:void 0,r:n},void 0!==pt.s&&(pt.s.n=n),pt.s=n,t.n=n,32&pt.f&&t.S(n),n;if(-1===n.i)return n.i=0,void 0!==n.n&&(n.n.p=n.p,void 0!==n.p&&(n.p.n=n.n),n.p=pt.s,n.n=void 0,pt.s.n=n,pt.s=n),n}}function St(t){this.v=t,this.i=0,this.n=void 0,this.t=void 0}function kt(t){return new St(t)}function xt(t){for(var n=t.s;void 0!==n;n=n.n)if(n.S.i!==n.i||!n.S.h()||n.S.i!==n.i)return!0;return!1}function wt(t){for(var n=t.s;void 0!==n;n=n.n){var e=n.S.n;if(void 0!==e&&(n.r=e),n.S.n=n,n.i=-1,void 0===n.n){t.s=n;break}}}function Et(t){for(var n=t.s,e=void 0;void 0!==n;){var i=n.p;-1===n.i?(n.S.U(n),void 0!==i&&(i.n=n.n),void 0!==n.n&&(n.n.p=i)):e=n,n.S.n=n.r,void 0!==n.r&&(n.r=void 0),n=i}t.s=e}function Ht(t){St.call(this,void 0),this.x=t,this.s=void 0,this.g=bt-1,this.f=4}function Nt(t){return new Ht(t)}function Ut(t){var n=t.u;if(t.u=void 0,"function"==typeof n){yt++;var e=pt;pt=void 0;try{n()}catch(n){throw t.f&=-2,t.f|=8,Pt(t),n}finally{pt=e,ct()}}}function Pt(t){for(var n=t.s;void 0!==n;n=n.n)n.S.U(n);t.x=void 0,t.s=void 0,Ut(t)}function Ct(t){if(pt!==this)throw new Error("Out-of-order effect");Et(this),pt=t,this.f&=-2,8&this.f&&Pt(this),ct()}function $t(t){this.x=t,this.u=void 0,this.s=void 0,this.o=void 0,this.f=32}function Tt(t){var n=new $t(t);try{n.c()}catch(t){throw n.d(),t}return n.d.bind(n)}function Ot(t,n){i[t]=n.bind(null,i[t]||function(){})}function Dt(t){vt&&vt(),vt=t&&t.S()}function Mt(t){var n=this,e=t.data,i=jt(e);i.value=e;var _=nt((function(){for(var t=n.__v;t=t.__;)if(t.__c){t.__c.__$f|=4;break}return n.__$u.c=function(){n.base.data=_.peek()},Nt((function(){var t=i.value.value;return 0===t?0:!0===t?"":t||""}))}),[]);return _.value}function At(t,n,e,i){var _=n in t&&void 0===t.ownerSVGElement,o=kt(e);return{o:function(t,n){o.value=t,i=n},d:Tt((function(){var e=o.value.value;i[n]!==e&&(i[n]=e,_?t[n]=e:e?t.setAttribute(n,e):t.removeAttribute(n))}))}}function jt(t){return nt((function(){return kt(t)}),[])}function Ft(t){var n=tt(t);return n.current=t,ht.__$f|=4,nt((function(){return Nt((function(){return n.current()}))}),[])}function Lt(t){var n=tt(t);n.current=t,Z((function(){return Tt((function(){return n.current()}))}),[])}St.prototype.h=function(){return!0},St.prototype.S=function(t){this.t!==t&&void 0===t.e&&(t.x=this.t,void 0!==this.t&&(this.t.e=t),this.t=t)},St.prototype.U=function(t){if(void 0!==this.t){var n=t.e,e=t.x;void 0!==n&&(n.x=e,t.e=void 0),void 0!==e&&(e.e=n,t.x=void 0),t===this.t&&(this.t=e)}},St.prototype.subscribe=function(t){var n=this;return Tt((function(){var e=n.value,i=32&this.f;this.f&=-33;try{t(e)}finally{this.f|=i}}))},St.prototype.valueOf=function(){return this.value},St.prototype.toString=function(){return this.value+""},St.prototype.toJSON=function(){return this.value},St.prototype.peek=function(){return this.v},Object.defineProperty(St.prototype,"value",{get:function(){var t=gt(this);return void 0!==t&&(t.i=this.i),this.v},set:function(t){if(pt instanceof Ht&&function(){throw new Error("Computed cannot have side-effects")}(),t!==this.v){mt>100&&st(),this.v=t,this.i++,bt++,yt++;try{for(var n=this.t;void 0!==n;n=n.x)n.t.N()}finally{ct()}}}}),(Ht.prototype=new St).h=function(){if(this.f&=-3,1&this.f)return!1;if(32==(36&this.f))return!0;if(this.f&=-5,this.g===bt)return!0;if(this.g=bt,this.f|=1,this.i>0&&!xt(this))return this.f&=-2,!0;var t=pt;try{wt(this),pt=this;var n=this.x();(16&this.f||this.v!==n||0===this.i)&&(this.v=n,this.f&=-17,this.i++)}catch(t){this.v=t,this.f|=16,this.i++}return pt=t,Et(this),this.f&=-2,!0},Ht.prototype.S=function(t){if(void 0===this.t){this.f|=36;for(var n=this.s;void 0!==n;n=n.n)n.S.S(n)}St.prototype.S.call(this,t)},Ht.prototype.U=function(t){if(void 0!==this.t&&(St.prototype.U.call(this,t),void 0===this.t)){this.f&=-33;for(var n=this.s;void 0!==n;n=n.n)n.S.U(n)}},Ht.prototype.N=function(){if(!(2&this.f)){this.f|=6;for(var t=this.t;void 0!==t;t=t.x)t.t.N()}},Ht.prototype.peek=function(){if(this.h()||st(),16&this.f)throw this.v;return this.v},Object.defineProperty(Ht.prototype,"value",{get:function(){1&this.f&&st();var t=gt(this);if(this.h(),void 0!==t&&(t.i=this.i),16&this.f)throw this.v;return this.v}}),$t.prototype.c=function(){var t=this.S();try{if(8&this.f)return;if(void 0===this.x)return;var n=this.x();"function"==typeof n&&(this.u=n)}finally{t()}},$t.prototype.S=function(){1&this.f&&st(),this.f|=1,this.f&=-9,Ut(this),wt(this),yt++;var t=pt;return pt=this,Ct.bind(this,t)},$t.prototype.N=function(){2&this.f||(this.f|=2,this.o=dt,dt=this)},$t.prototype.d=function(){this.f|=8,1&this.f||Pt(this)},Mt.displayName="_st",Object.defineProperties(St.prototype,{constructor:{configurable:!0,value:void 0},type:{configurable:!0,value:Mt},props:{configurable:!0,get:function(){return{data:this}}},__b:{configurable:!0,value:1}}),Ot("__b",(function(t,n){if("string"==typeof n.type){var e,i=n.props;for(var _ in i)if("children"!==_){var o=i[_];o instanceof St&&(e||(n.__np=e={}),e[_]=o,i[_]=o.peek())}}t(n)})),Ot("__r",(function(t,n){Dt();var e,i=n.__c;i&&(i.__$f&=-2,void 0===(e=i.__$u)&&(i.__$u=e=function(t){var n;return Tt((function(){n=this})),n.c=function(){i.__$f|=1,i.setState({})},n}())),ht=i,Dt(e),t(n)})),Ot("__e",(function(t,n,e,i){Dt(),ht=void 0,t(n,e,i)})),Ot("diffed",(function(t,n){var e;if(Dt(),ht=void 0,"string"==typeof n.type&&(e=n.__e)){var i=n.__np,_=n.props;if(i){var o=e.U;if(o)for(var r in o){var u=o[r];void 0===u||r in i||(u.d(),o[r]=void 0)}else e.U=o={};for(var f in i){var l=o[f],s=i[f];void 0===l?(l=At(e,f,s,_),o[f]=l):l.o(s,_)}}}t(n)})),Ot("unmount",(function(t,n){if("string"==typeof n.type){var e=n.__e;if(e){var i=e.U;if(i)for(var _ in e.U=void 0,i){var o=i[_];o&&o.d()}}}else{var r=n.__c;if(r){var u=r.__$u;u&&(r.__$u=void 0,u.d())}}t(n)})),Ot("__h",(function(t,n,e,i){(i<3||9===i)&&(n.__$f|=2),t(n,e,i)})),m.prototype.shouldComponentUpdate=function(t,n){var e=this.__$u;if(!(e&&void 0!==e.s||4&this.__$f))return!0;if(3&this.__$f)return!0;for(var i in n)return!0;for(var _ in t)if("__source"!==_&&t[_]!==this.props[_])return!0;for(var o in this.props)if(!(o in t))return!0;return!1};const Vt=kt(!1);return document.addEventListener("DOMContentLoaded",(()=>{Vt.value=!0})),n})()));var xtyle=function(e){"use strict";var t=Object.defineProperty,r=(e,r,n)=>(((e,r,n)=>{r in e?t(e,r,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[r]=n})(e,"symbol"!=typeof r?r+"":r,n),n);const{signal:n,effect:s,computed:o,useSignal:i,useSignalEffect:c,useComputed:a}=preact;function u(e,t=!0){const r=(e=>"object"==typeof e?Array.isArray(e)?Array:Object:null)(e),u=t?i(e):n(e);return u.update=e=>{if(r===Array){let t=[...u.value];e(t),u.value=t}else if(r===Object){let t={...u.value};e(t),u.value=t}else u.value=e},u.computed=t?a:o,u.effect=t?c:s,u.reset=()=>u.value=e,u}const l=u,p=e=>u(e,!1),d=p({x:window.innerWidth,y:window.innerHeight});function f(e){return e.replace(/(?:^\w|[A-Z]|\b\w|\s+)/g,((e,t)=>0==+e?"":0===t?e.toLowerCase():e.toUpperCase())).replace(/[^\w]+/g,"").replace(/^\w/,(e=>e.toLowerCase()))}window.addEventListener("resize",(()=>{d.value={x:window.innerWidth,y:window.innerHeight}}));const m={camel:f,slug:function(e,t=!0){return e=(e=e.replace(/^\s+|\s+$/g,"")).toLowerCase(),e=(e=t?e.replace(/[^a-z0-9 -]/g,""):e.replace(/[^a-z -]/g,"")).replace(/\s+/g,"-").replace(/-+/g,"-")},lower:function(e){return e.toLowerCase()},upper:function(e){return e.toUpperCase()},title:function(e){return e.replace(/\w\S*/g,(e=>e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()))},pascal:function(e){return e.replace(/(?:^\w|[A-Z]|\b\w|\s+)/g,((e,t)=>0==+e?"":0===t?e.toLowerCase():e.toUpperCase())).replace(/[^\w-]+/g,"").replace(/\w\S*/g,(e=>e.charAt(0).toUpperCase()+e.substr(1)))}},{useEffect:v,useCallback:y}=preact,g="gui-design";function w(e){return e.replace(/\s\s+/g," ").replace(/\r?\n|\r/g,"").trim()}const b=e=>"string"==typeof e?e.trim():"object"==typeof e?Array.isArray(e)?e.map(b).join(" ").trim():Object.keys(e).filter((t=>!0===e[t])).join(" ").trim():"";const _={inject:(e,t="main")=>function({code:e,id:t}){const r=function(e){const t=window.document.querySelectorAll(`[${g}="${e}"]`);if(t.length>0)return t[0];{const t=window.document.createElement("style");return t.setAttribute(g,e),window.document.head.append(t),t}}(t);r.textContent=w(e)}({code:e,id:t}),form:function(e){const t={};for(const r in e)if(e.hasOwnProperty(r)){const n=e[r];t[r]="function"==typeof n?n():n}return t},class:b,style:function e(t){return"string"==typeof t?((t=t.trim()).endsWith(";;")&&(t=t.slice(0,-1)),t):"object"==typeof t?Array.isArray(t)?t.map(e).join(" ").trim():Object.keys(t).filter((e=>t[e])).map((e=>`${e}: ${t[e]};`)).join(" ").trim():""},props:e=>{const t={};return Object.entries(e).map((([e,r])=>t[f(e)]=r)),t},slots:function(e,t="slot"){const r={};return e.children&&(Array.isArray(e.children)?e.children:[e.children]).forEach((e=>{if("object"==typeof e&&e&&e.props){const n=e.props[t];n?r[f(n)]=e:r.default=e}})),r.$=e=>{const t=r[e]||{};return t.props&&t.props.children?t.props.children:null},r.$all=Object.values(r),r.$keys=Object.keys(r).filter((e=>!["$","$all"].includes(e))),r},event:function(e,t,r,n=[],s={}){return v((()=>{const n="current"in e?e.current:e;return n.addEventListener(t,r,s),()=>{n.removeEventListener(t,r)}}),n),y(r,n)},events:Object.freeze({click:"onClick","dbl-click":"onDblClick","context-menu":"onContextMenu","mouse-down":"onMouseDown","mouse-up":"onMouseUp","mouse-enter":"onMouseEnter","mouse-leave":"onMouseLeave","mouse-move":"onMouseMove","key-down":"onKeyDown","key-up":"onKeyUp","key-press":"onKeyPress",focus:"onFocus",blur:"onBlur",change:"onChange",input:"onInput",submit:"onSubmit","touch-start":"onTouchStart","touch-move":"onTouchMove","touch-end":"onTouchEnd","touch-cancel":"onTouchCancel",wheel:"onWheel",scroll:"onScroll",copy:"onCopy",cut:"onCut",paste:"onPaste","composition-start":"onCompositionStart","composition-update":"onCompositionUpdate","composition-end":"onCompositionEnd",load:"onLoad",error:"onError","animation-start":"onAnimationStart","animation-end":"onAnimationEnd","animation-iteration":"onAnimationIteration","transition-end":"onTransitionEnd"})},{signal:L,computed:E,effect:k}=preact;class A{constructor(e){r(this,"stateList",L([])),r(this,"stateForm",L({})),r(this,"stateMode",L("list")),r(this,"keys"),r(this,"resourceName"),this.keys=e.keys?Object.freeze(e.keys):[],this.resourceName=e.resourceName||"app.model"}get info(){const e=this.resourceName.split(".");return{uri:this.resourceName,app:e[0],model:e[1],keys:[...this.keys]}}get recordList(){return[...this.stateList.value]}get mode(){return this.stateMode.value}set mode(e){this.stateMode.value=e}get form(){return{...this.stateForm.value}}set form(e){this.stateForm.value=e}get list(){return this.recordList}set list(e){Array.isArray(e)&&(this.stateList.value=e)}computed(e){return E((()=>e(this)))}effect(e){return k((()=>e(this)))}updateList(e){const t=[...this.stateList.value||[]];e(t,this),Array.isArray(t)&&(this.stateList.value=t)}updateForm(e){const t={...this.stateForm.value||{}};e(t,this),this.stateForm.value=t}head(e=10){return this.list.slice(0,e)}tail(e=10){return this.list.slice(-e)}by(e="id"){return N(e,this.list)}sort(...e){return this.list.slice().sort(S(...e))}groupBy(e="account_id"){return M(this.list,e)}find(e,t){return this.list.filter((r=>r[e]===t))}findNot(e,t){return this.list.filter((r=>r[e]!==t))}search(e,t,r=!0){let n=[];return Array.isArray(e)?e.forEach((e=>{n=n.concat(x(this.list,e,t,r))})):n=x(this.list,e,t,r),n}searchNot(e,t,r=!0){let n=[];return Array.isArray(e)?e.forEach((e=>{n=n.concat(O(this.list,e,t,r))})):n=O(this.list,e,t,r),n}dirtyList(e){return C(this.list,e)}dirtyForm(e){return j(this.form,e)}}const C=(e,t)=>JSON.stringify(e)===JSON.stringify(t)?[]:t.filter(((t,r)=>JSON.stringify(t)!==JSON.stringify(e[r]))),j=(e,t)=>{const r={};return Object.keys(e).forEach((n=>{e[n]!==t[n]&&(r[n]=t[n])})),r},$=e=>{let t=1;return"-"===e[0]&&(t=-1,e=e.substr(1)),(r,n)=>(r[e]<n[e]?-1:r[e]>n[e]?1:0)*t},S=(...e)=>(t,r)=>{let n=0,s=0;const o=e.length;for(;0===n&&s<o;)n=$(e[s])(t,r),s++;return n},x=(e,t,r,n)=>{const s=n?r.toLowerCase():r;return e.filter((e=>String(e[t]).toLowerCase().includes(s)))},O=(e,t,r,n)=>{const s=n?r.toLowerCase():r;return e.filter((e=>!String(e[t]).toLowerCase().includes(s)))},M=(e,t)=>e.reduce(((e,r)=>{const n=r[t];return e[n]=e[n]||[],e[n].push(r),e}),{}),N=(e,t)=>t.reduce(((t,r)=>(t[r[e]]=r,t)),{});function T(e,t={}){return T.model[e]||(T.model[e]=new A({...t,resourceName:e})),T.model[e]}function R(e,t){const r=[];for(const n of t){const t=n(e);"string"==typeof t&&r.push(t)}return r}T.model={};const{useRef:U}=preact;function q(e=void 0){const t=e||U(null);return{get $(){return t},get current(){return t.current},set current(e){t.current=e},contains(e){var t;try{return(null==(t=this.current)?void 0:t.classList.contains(e))||!1}catch{return!1}},find(e){var t;try{let r=null==(t=this.current)?void 0:t.querySelectorAll(e);return r?Array.from(r).map((e=>q({current:e}))):[]}catch{return[]}},get(e){var t;try{let r=null==(t=this.current)?void 0:t.querySelector(e);return r?q({current:r}):null}catch{return null}},add(...e){try{this.__add(...e)}catch{}},remove(...e){try{this.__remove(...e)}catch{}},toggle(e,t=null){try{this.__toggle(t,...e)}catch{}},__add(...e){(e=[...e]).forEach((e=>{var t;null==(t=this.current)||t.classList.add(e)}))},__remove(...e){(e=[...e]).forEach((e=>{var t;null==(t=this.current)||t.classList.remove(e)}))},__toggle(e,...t){(t=[...t]).forEach((t=>{var r,n;null===e?null==(r=this.current)||r.classList.toggle(t):null==(n=this.current)||n.classList.toggle(t,e)}))}}}const{useEffect:z,useRef:P}=preact,H=e=>"function"==typeof e;const W=e=>{const t=t=>((e,t,r)=>{const n={};return Object.keys(e).forEach((s=>{r(s)&&(n[s.slice(t).trim()]=e[s])})),n})(e,t.length,(e=>e.startsWith(t))),r=t("x-"),n=t("hook-"),s=t("css-"),o=(e=>{const t={};return Object.keys(e).forEach((r=>{if(r.startsWith("on-")){const n=r.slice(3).trim(),s=_.events[n];t[s||n]=e[r]}})),t})(e);return{custom:r,on:o,hook:n,css:s}},F=e=>{if(Array.isArray(e))return e;if("string"==typeof e){const t=w(e);return t.includes(" ")?t.split(" "):[e]}return[]},J="ripple-effect__container",D="ripple-effect__animation",B="ripple-effect__animation--enter",I="ripple-effect__animation--visible",X="ripple-effect__animation--start",Y="ripple-effect__animation--end";function K(e,t){e.style.transform=t,e.style.webkitTransform=t}function Z(e,t){e.style.opacity=t.toString()}function G(e){return"TouchEvent"===e.constructor.name}const Q={show(e,t,r={}){if(!t._ripple||!t._ripple.enabled)return;const n=document.createElement("span"),s=document.createElement("span");n.appendChild(s),n.className=J,r.class&&(n.className+=` ${r.class}`);const{radius:o,scale:i,x:c,y:a,centerX:u,centerY:l}=((e,t,r={})=>{const n=t.getBoundingClientRect(),s=G(e)?e.touches[e.touches.length-1]:e,o=s.clientX-n.left,i=s.clientY-n.top;let c=0,a=.3;t._ripple&&t._ripple.circle?(a=.15,c=t.clientWidth/2,c=r.center?c:c+Math.sqrt((o-c)**2+(i-c)**2)/4):c=Math.sqrt(t.clientWidth**2+t.clientHeight**2)/2;const u=(t.clientWidth-2*c)/2+"px",l=(t.clientHeight-2*c)/2+"px";return{radius:c,scale:a,x:r.center?u:o-c+"px",y:r.center?l:i-c+"px",centerX:u,centerY:l}})(e,t,r),p=2*o+"px";s.className=D,s.style.width=p,s.style.height=p,t._ripple&&t._ripple.color&&(s.style.color=t._ripple.color),t.appendChild(n);const d=window.getComputedStyle(t);d&&"static"===d.position&&(t.style.position="relative",t.dataset.previousPosition="static"),s.classList.add(B),s.classList.add(I),K(s,`translate(${c}, ${a}) scale3d(${i},${i},${i})`),Z(s,0),s.dataset.activated=String(performance.now()),setTimeout((()=>{s.classList.remove(B),s.classList.add(X),K(s,`translate(${u}, ${l}) scale3d(1,1,1)`),Z(s,.25)}),0)},hide(e){if(!e||!e._ripple||!e._ripple.enabled)return;const t=e.getElementsByClassName(D);if(0===t.length)return;const r=t[t.length-1];if(r.dataset.isHiding)return;r.dataset.isHiding="true";const n=performance.now()-Number(r.dataset.activated),s=Math.max(250-n,0);setTimeout((()=>{r.classList.remove(X),r.classList.add(Y),Z(r,0),setTimeout((()=>{1===e.getElementsByClassName(D).length&&e.dataset.previousPosition&&(e.style.position=e.dataset.previousPosition,delete e.dataset.previousPosition),r.parentNode&&e.removeChild(r.parentNode)}),300)}),s)}};function V(e){const t={},r=e.currentTarget;if(r&&r._ripple&&!r._ripple.touched){if(G(e))r._ripple.touched=!0,r._ripple.isTouch=!0;else if(r._ripple.isTouch)return;t.center=r._ripple.centered,r._ripple.class&&(t.class=r._ripple.class),Q.show(e,r,t)}}function ee(e){const t=e.currentTarget;t&&(window.setTimeout((()=>{t._ripple&&(t._ripple.touched=!1)})),Q.hide(t))}function te(e,t,r){const n=function(e){return typeof e>"u"||!!e}(t);n||Q.hide(e),e._ripple=e._ripple||{},e._ripple.enabled=n;const s=t||{};s.center&&(e._ripple.centered=!0),s.circle&&(e._ripple.circle=t.circle),s.color&&(e._ripple.color=t.color),n&&!r?(e.addEventListener("touchstart",V,{passive:!0}),e.addEventListener("touchend",ee,{passive:!0}),e.addEventListener("touchcancel",ee),e.addEventListener("mousedown",V),e.addEventListener("mouseup",ee),e.addEventListener("mouseleave",ee),e.addEventListener("dragstart",ee,{passive:!0})):!n&&r&&function(e){e.removeEventListener("mousedown",V),e.removeEventListener("touchstart",ee),e.removeEventListener("touchend",ee),e.removeEventListener("touchcancel",ee),e.removeEventListener("mouseup",ee),e.removeEventListener("mouseleave",ee),e.removeEventListener("dragstart",ee)}(e)}const re={css:".ripple-effect__animation,.ripple-effect__container{color:inherit;position:absolute;top:0;left:0;pointer-events:none;overflow:hidden}.ripple-effect__container{border-radius:inherit;width:100%;height:100%;z-index:0;contain:strict}.ripple-effect__animation{border-radius:50%;background:currentColor;opacity:0;will-change:transform,opacity}.ripple-effect__animation--enter{transition:none}.ripple-effect__animation--start{transition:transform .25s cubic-bezier(.4, 0, .2, 1),opacity .1s cubic-bezier(.4, 0, .2, 1)}.ripple-effect__animation--end{transition:opacity .3s cubic-bezier(.4, 0, .2, 1)}",directive:(e,t)=>te(e,t,!1)},{useEffect:ne,useRef:se}=preact,oe="xtyle__hide";_.inject(re.css,"xtyle-ripple"),_.inject(`.${oe}{ display: none !important; }`,"xtyle-hide");const ie=["key","id","class","style","type","name","placeholder","checked","step","pattern","readonly","required","rows","cols","href","src","alt"],ce=["html","fragment","tag","switch","case","fallback","fallback-is","for","in","if","show","live","portal","ripple","input","value-clean","value-validators"],ae=(e,t,r,n)=>({self:e,props:t,event:r,...n||{}}),ue={ref:e=>{const t=e.directives.custom.ref;ne((()=>{t&&t(e.ref)}),[e.ref])},value:(e,t)=>{const r=e.directives.custom.tag,n=e.directives.custom.value,s=e.directives.custom["value-clean"],o=e.directives.custom["value-validators"],i=e.directives.custom.input,{onInput:c}=t;["input","textarea","select","progress"].includes(r)&&(t.onInput=e=>{let t="";if(s&&"function"==typeof s?(t=s(e.target.value),e.target.value=t):t=e.target.value,n.value=t,o&&(Array.isArray(o),1)){const e=R(t,o);i&&"function"==typeof i&&i({value:t,valid:0===e.length,errors:e})}c&&c(e)},ne((()=>{e.ref.current.value=n.value}),[e.ref,n]))},scroll:(e,t)=>{const r=e.directives.custom.scroll;_.event(e.ref,"scroll",(n=>{const s=ae(e,t,n,{value:{x:n.target.scrollLeft,y:n.target.scrollTop}});r(s)}),[e.ref,r,t])},hover:(e,t)=>{const r=e.directives.custom.hover,n={...t};t.onMouseEnter=s=>{const o=ae(e,t,s,{value:!0});r(o),n.onMouseEnter&&n.onMouseEnter(s)},t.onMouseLeave=s=>{const o=ae(e,t,s,{value:!1});r(o),n.onMouseLeave&&n.onMouseLeave(s)}},swipe:(e,t)=>{const r=e.directives.custom.swipe;!function(e){const t=se(null),r=se(null);ne((()=>{const n=e=>{t.current=e.touches[0].clientX,r.current=e.touches[0].clientY},s=n=>{if(!t.current||!r.current)return;const s=n.changedTouches[0].clientX,o=n.changedTouches[0].clientY,i=s-t.current,c=o-r.current;(Math.abs(i)>50||Math.abs(c)>50)&&(Math.abs(i)>Math.abs(c)?e(i>0?"right":"left"):e(c>0?"bottom":"top")),t.current=null,r.current=null};return document.addEventListener("touchstart",n,{passive:!0}),document.addEventListener("touchend",s,{passive:!0}),()=>{document.removeEventListener("touchstart",n),document.removeEventListener("touchend",s)}}),[e])}((n=>{const s=ae(e,t,null,{value:n});r(s)}))},resize:(e,t)=>{const r=e.directives.custom.resize;_.event(window,"resize",(n=>{const s=ae(e,t,n);r(s)}),[e.ref,r,t])},"click-outside":(e,t)=>{const r=e.directives.custom["click-outside"];_.event(document,"click",(n=>{if(!e.ref.current.contains(n.target)){const s=ae(e,t,n);r(s)}}),[e.ref,r,t])}};const{useEffect:le,render:pe,$ready:de}=preact,fe=e=>null!=e&&""!==e;function he(e,t){if(!e)return null;const r={...t.directives.on};t.directives.custom.ripple&&function(e,t){ne((()=>(!0===t.custom.ripple?re.directive(e.current):t.custom.ripple&&re.directive(e.current,t.custom.ripple),()=>{})),[e.current])}(t.ref,t.directives),ie.forEach((e=>{t.props[e]&&(r[e]=t.props[e])}));const n={ref:t.ref,...r,...t.props.attrs},s=Object.keys(t.directives.custom);return s.length>0&&s.forEach((e=>{if(!ce.includes(e))if(ue[e]){(0,ue[e])(t,n)}else{const r=we[e];"function"==typeof r&&r(t,n)}})),n.class&&(n.class=_.class(n.class)),n.style&&(n.style=_.style(n.style)),h(e,n,t.props.children)}function me(e,t){H(e.hook.created)&&function(e){z((()=>{e()}),[])}((()=>{e.hook.created(t)})),H(e.hook.updated)&&function(e){const t=P(e);z((()=>{(0,t.current)()}))}((()=>{e.hook.updated(t)})),H(e.hook.removed)&&function(e){const t=P(e);z((()=>{const e=t.current;return()=>{e()}}),[])}((()=>{e.hook.removed(t)}))}function ve(e={}){const t=q(),r=W(e),n=r.custom.tag||null,s={props:e,directives:r,ref:t};if(fe(r.custom.if)&&!1===r.custom.if)return null;if(r.custom.live)return r.custom.live(e);if(r.custom.fallback&&fe(r.custom["fallback-is"])&&!0===r.custom["fallback-is"])return r.custom.fallback;if(me(r,s),n)return function(e,t){le((()=>{fe(e.css.is)&&(!0===e.css.is?(t.add(...F(e.css.on)),t.remove(...F(e.css.off))):(t.remove(...F(e.css.on)),t.add(...F(e.css.off))))}),[e.css.is])}(r,t),function(e,t){le((()=>{fe(e.custom.show)&&(!0===e.custom.show?t.remove(oe):t.add(oe))}),[e.custom.show])}(r,t),he(n,s);{const t=r.custom.portal;if(t)return function(e,t,r){if(e){if(de.value){const n=document.querySelector(e);n&&le((()=>{if(t.custom.fragment){const e=document.createDocumentFragment();pe(r.children,e),n.appendChild(e)}else pe(r.children,n)}),[])}return null}r.children}(t,r,e),null;const n=function(e){if("function"==typeof e.custom.for&&Array.isArray(e.custom.in)){const t=e.custom.in,r=e.custom.for;return t.map(r)}if("function"==typeof e.custom.for&&"number"==typeof e.custom.in){const t=e.custom.in,r=e.custom.for;return[...Array(t).keys()].map(r)}return null}(r);if(n)return n;const s=function(e,t){if(e.custom.switch){const r=e.custom.case||"default";let n=null;return t.children&&t.children.props&&t.children.props["x-for"]&&t.children.props["x-in"]?n=t.children.props["x-in"].map(t.children.props["x-for"]).filter((e=>e.props.case===r)):Array.isArray(t.children)&&(n=t.children.filter((e=>e.props&&e.props.case===r))),n}return null}(r,e);if(s)return s}return e.children}function ye(e){return e.toLowerCase().replace(/[^a-z-]/g,"")}const ge={},we={},be={},_e={};function Le(e){const t=ye(e);return e=>(ge[t]=e,e)}function Ee(e){const t=ye(e);return e=>(we[t]=e,e)}const ke={action:"__a",query:"__q"};class Ae{constructor(e){if(r(this,"routerHandler"),r(this,"baseURL"),r(this,"history"),r(this,"find"),r(this,"routes"),r(this,"searchArgs"),r(this,"_current"),this.routerHandler=()=>{const t=this.find();(function(e,t){return JSON.stringify(e)!==JSON.stringify(t)})({...this._current.value},t)&&(this._current.value=t,"function"==typeof e.callback&&e.callback(t))},this.baseURL=e.baseURL||"/",this.history=e.history||!1,this._current=p({}),window.onpopstate=this.routerHandler,Array.isArray(e.routes)){const t={};e.routes.forEach((e=>{t[e]=null})),this.routes=t}else this.routes=e.routes||{};this.find=function(e,t=!0,r=""){return(n="")=>function(e,t=!0,r,n){let s=r;s||(s=t?window.location.pathname:window.location.hash.slice(1));let o=s;"/"!==n&&(o=s.replace(n,"").replace("//","/"));const i=function(e,t){""===e&&(e="/"),e.includes("?")&&(e=e.split("?")[0]);for(const r in t){const n={},s=r.replace(/\{(\??)([^/]+?)(\*?)\}/g,((e,t,r,s)=>(n[r]=void 0,t?"([^/]*?)?":s?"(.*)":"([^/]+)"))),o=e.match(new RegExp(`^${s}$`));if(o){if(o.length>1){const e=Object.keys(n);[...Array(o.length).keys()].map((t=>{if(t>0){const r=e[t-1];n[r]=o[t]}}))}const e=t[r];return new Ce({view:e,arg:n})}}return new Ce({})}(o,e),c=s.split("?");i.path=c[0],i.path||(i.path="/");const a=2===c.length?c[1]:null;return i.search=je(a||window.location.search),i}(e,t,n,r)}(this.routes,this.history,this.baseURL),this.searchArgs=$e,this.routerHandler()}get current(){return this._current.value}computed(...e){return this._current.computed(...e)}effect(...e){return this._current.effect(...e)}go(e="",t={}){var r,n,s;const o=window.event;if(o)try{null==(r=o.preventDefault)||r.call(o),null==(n=o.stopPropagation)||n.call(o),null==(s=o.stopImmediatePropagation)||s.call(o)}catch{}(e=`${this.baseURL}${e}`).startsWith("/")||(e="/"+e),e=e.replace("//","/"),Object.keys(t).length>0&&(e+=$e(t)),this.history?window.history.pushState({},"",e):window.history.pushState({},"","/#"+e),this.routerHandler()}}class Ce{constructor(e){r(this,"view"),r(this,"arg"),r(this,"path"),r(this,"search"),this.view=null,this.arg={},this.path=null,this.search={},Object.assign(this,e)}}function je(e){const t=new URLSearchParams(e),r={};return t.forEach(((e,t)=>{r[t]=e})),r}function $e(e){const t=Object.keys(e||{});if(t.length>0){const r=function(e,t){const r={};return e.includes("$query")&&e.includes("$action")&&(r[ke.action]=t.$action,r[ke.query]=JSON.stringify(t.$query),delete t.$query,delete t.$action),r}(t,e);return"?"+new URLSearchParams({...r,...e}).toString()}return""}e.i18n=e=>{};e.router={};const Se=function(e,t,...r){let n=t||{};const s="string"==typeof e;if(s&&"x-slot"===e||n["x-html"]){const t="x-slot"===e?null:e;return preact.h(ve,{"x-tag":t,...n},...r)}if(s&&e.startsWith("x-")&&"x-slot"!==e){const t=e.substring(2),s=ge[t];return s?preact.h(s,n,...r):preact.h(ve,{"x-tag":t,...n},...r)}return preact.h(e,t,...r)},xe=Le,Oe=Ee,Me=t=>{const r=function(e){return new Ae(e)}(t);return 0===Object.keys(e.router).length&&(e.router=r),r};const Ne=new Set;return e.Router=Me,e.allComponents=ge,e.allDirectives=we,e.base=ve,e.build=(e={},t=void 0)=>{const r={};return Object.keys(e).forEach((n=>{const s=(t?`${t}-`:"")+function(e){return e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}(n);r[s]=e[n]})),r},e.device=d,e.directive=Oe,e.element=xe,e.generateRoutes=function(e){const t=[],r=e.split("/").filter((e=>e));let n="";for(const e of r)n+=`/${e}`,t.push(n);return["/",...t]},e.global=be,e.h=Se,e.init=function(e,t,r){r=r||{};const n=new Set(r.routes||[]);r.routes=[...Array.from(n),...Array.from(Ne)],Me(r);let s=t;"string"==typeof t&&(s=document.querySelector(t)),preact.render(preact.h(e),s)},e.model=T,e.signal=p,e.store=_e,e.stringTo=m,e.translations=t=>{e.i18n=function(e){return t=>t.split(".").reduce(((e,t)=>{if(e)return e[t]}),e)}(t)},e.use=(e={})=>{const t=e||{};t.elements&&Object.keys(t.elements).forEach((e=>{Le(e)(t.elements[e])})),t.directives&&Object.keys(t.directives).forEach((e=>{Ee(e)(t.directives[e])})),t.globals&&function(e={}){Object.keys(e).forEach((t=>{be[t]=e[t]}))}(t.globals),t.store&&function(e={}){Object.keys(e).forEach((t=>{_e[t]=e[t]}))}(t.store),t.routes&&Array.isArray(t.routes)&&t.routes.forEach((e=>{Ne.add(e)}))},e.useRef=q,e.useSignal=l,e.util=_,e.validator=R,e}({});
window.h=xtyle.h;