!function(t,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define([],n):"object"==typeof exports?exports.preact=n():t.preact=n()}(self,(()=>(()=>{"use strict";var t={d:(n,e)=>{for(var i in e)t.o(e,i)&&!t.o(n,i)&&Object.defineProperty(n,i,{enumerable:!0,get:e[i]})},o:(t,n)=>Object.prototype.hasOwnProperty.call(t,n),r:t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}},n={};t.r(n),t.d(n,{$ready:()=>Lt,batch:()=>ct,computed:()=>Ht,effect:()=>$t,h:()=>p,render:()=>j,signal:()=>St,useCallback:()=>nt,useComputed:()=>jt,useEffect:()=>Y,useRef:()=>Z,useSignal:()=>Mt,useSignalEffect:()=>Ft,useState:()=>X});var e,i,_,o,r,u,f,l={},s=[],c=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,a=Array.isArray;function h(t,n){for(var e in n)t[e]=n[e];return t}function v(t){var n=t.parentNode;n&&n.removeChild(t)}function p(t,n,i){var _,o,r,u={};for(r in n)"key"==r?_=n[r]:"ref"==r?o=n[r]:u[r]=n[r];if(arguments.length>2&&(u.children=arguments.length>3?e.call(arguments,2):i),"function"==typeof t&&null!=t.defaultProps)for(r in t.defaultProps)void 0===u[r]&&(u[r]=t.defaultProps[r]);return d(t,u,_,o,null)}function d(t,n,e,o,r){var u={type:t,props:n,key:e,ref:o,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:null==r?++_:r};return null==r&&null!=i.vnode&&i.vnode(u),u}function y(t){return t.children}function m(t,n){this.props=t,this.context=n}function b(t,n){if(null==n)return t.__?b(t.__,t.__.__k.indexOf(t)+1):null;for(var e;n<t.__k.length;n++)if(null!=(e=t.__k[n])&&null!=e.__e)return e.__e;return"function"==typeof t.type?b(t):null}function g(t){var n,e;if(null!=(t=t.__)&&null!=t.__c){for(t.__e=t.__c.base=null,n=0;n<t.__k.length;n++)if(null!=(e=t.__k[n])&&null!=e.__e){t.__e=t.__c.base=e.__e;break}return g(t)}}function S(t){(!t.__d&&(t.__d=!0)&&o.push(t)&&!k.__r++||r!==i.debounceRendering)&&((r=i.debounceRendering)||u)(k)}function k(){var t,n,e,i,_,r,u,l,s;for(o.sort(f);t=o.shift();)t.__d&&(n=o.length,i=void 0,_=void 0,r=void 0,l=(u=(e=t).__v).__e,(s=e.__P)&&(i=[],_=[],(r=h({},u)).__v=u.__v+1,$(s,u,r,e.__n,void 0!==s.ownerSVGElement,null!=u.__h?[l]:null,i,null==l?b(u):l,u.__h,_),T(i,u,_),u.__e!=l&&g(u)),o.length>n&&o.sort(f));k.__r=0}function x(t,n,e,i,_,o,r,u,f,c,h){var v,p,m,b,g,S,k,x,N,U,P=0,C=i&&i.__k||s,T=C.length,O=T,M=n.length;for(e.__k=[],v=0;v<M;v++)null!=(b=e.__k[v]=null==(b=n[v])||"boolean"==typeof b||"function"==typeof b?null:"string"==typeof b||"number"==typeof b||"bigint"==typeof b?d(null,b,null,null,b):a(b)?d(y,{children:b},null,null,null):b.__b>0?d(b.type,b.props,b.key,b.ref?b.ref:null,b.__v):b)&&(b.__=e,b.__b=e.__b+1,-1===(x=H(b,C,k=v+P,O))?m=l:(m=C[x]||l,C[x]=void 0,O--),$(t,b,m,_,o,r,u,f,c,h),g=b.__e,(p=b.ref)&&m.ref!=p&&(m.ref&&D(m.ref,null,b),h.push(p,b.__c||g,b)),null!=g&&(null==S&&(S=g),U=!(N=m===l||null===m.__v)&&x===k,N?-1==x&&P--:x!==k&&(x===k+1?(P++,U=!0):x>k?O>M-k?(P+=x-k,U=!0):P--:P=x<k&&x==k-1?x-k:0),k=v+P,U=U||x==v&&!N,"function"!=typeof b.type||x===k&&m.__k!==b.__k?"function"==typeof b.type||U?void 0!==b.__d?(f=b.__d,b.__d=void 0):f=g.nextSibling:f=E(t,g,f):f=w(b,f,t),"function"==typeof e.type&&(e.__d=f)));for(e.__e=S,v=T;v--;)null!=C[v]&&("function"==typeof e.type&&null!=C[v].__e&&C[v].__e==e.__d&&(e.__d=C[v].__e.nextSibling),A(C[v],C[v]))}function w(t,n,e){for(var i,_=t.__k,o=0;_&&o<_.length;o++)(i=_[o])&&(i.__=t,n="function"==typeof i.type?w(i,n,e):E(e,i.__e,n));return n}function E(t,n,e){return null==e||e.parentNode!==t?t.insertBefore(n,null):n==e&&null!=n.parentNode||t.insertBefore(n,e),n.nextSibling}function H(t,n,e,i){var _=t.key,o=t.type,r=e-1,u=e+1,f=n[e];if(null===f||f&&_==f.key&&o===f.type)return e;if(i>(null!=f?1:0))for(;r>=0||u<n.length;){if(r>=0){if((f=n[r])&&_==f.key&&o===f.type)return r;r--}if(u<n.length){if((f=n[u])&&_==f.key&&o===f.type)return u;u++}}return-1}function N(t,n,e){"-"===n[0]?t.setProperty(n,null==e?"":e):t[n]=null==e?"":"number"!=typeof e||c.test(n)?e:e+"px"}function U(t,n,e,i,_){var o;t:if("style"===n)if("string"==typeof e)t.style.cssText=e;else{if("string"==typeof i&&(t.style.cssText=i=""),i)for(n in i)e&&n in e||N(t.style,n,"");if(e)for(n in e)i&&e[n]===i[n]||N(t.style,n,e[n])}else if("o"===n[0]&&"n"===n[1])o=n!==(n=n.replace(/Capture$/,"")),n=n.toLowerCase()in t?n.toLowerCase().slice(2):n.slice(2),t.l||(t.l={}),t.l[n+o]=e,e?i||t.addEventListener(n,o?C:P,o):t.removeEventListener(n,o?C:P,o);else if("dangerouslySetInnerHTML"!==n){if(_)n=n.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if("width"!==n&&"height"!==n&&"href"!==n&&"list"!==n&&"form"!==n&&"tabIndex"!==n&&"download"!==n&&"rowSpan"!==n&&"colSpan"!==n&&n in t)try{t[n]=null==e?"":e;break t}catch(t){}"function"==typeof e||(null==e||!1===e&&"-"!==n[4]?t.removeAttribute(n):t.setAttribute(n,e))}}function P(t){return this.l[t.type+!1](i.event?i.event(t):t)}function C(t){return this.l[t.type+!0](i.event?i.event(t):t)}function $(t,n,e,_,o,r,u,f,l,s){var c,v,p,d,b,g,S,k,w,E,H,N,U,P,C,$=n.type;if(void 0!==n.constructor)return null;null!=e.__h&&(l=e.__h,f=n.__e=e.__e,n.__h=null,r=[f]),(c=i.__b)&&c(n);try{t:if("function"==typeof $){if(k=n.props,w=(c=$.contextType)&&_[c.__c],E=c?w?w.props.value:c.__:_,e.__c?S=(v=n.__c=e.__c).__=v.__E:("prototype"in $&&$.prototype.render?n.__c=v=new $(k,E):(n.__c=v=new m(k,E),v.constructor=$,v.render=M),w&&w.sub(v),v.props=k,v.state||(v.state={}),v.context=E,v.__n=_,p=v.__d=!0,v.__h=[],v._sb=[]),null==v.__s&&(v.__s=v.state),null!=$.getDerivedStateFromProps&&(v.__s==v.state&&(v.__s=h({},v.__s)),h(v.__s,$.getDerivedStateFromProps(k,v.__s))),d=v.props,b=v.state,v.__v=n,p)null==$.getDerivedStateFromProps&&null!=v.componentWillMount&&v.componentWillMount(),null!=v.componentDidMount&&v.__h.push(v.componentDidMount);else{if(null==$.getDerivedStateFromProps&&k!==d&&null!=v.componentWillReceiveProps&&v.componentWillReceiveProps(k,E),!v.__e&&(null!=v.shouldComponentUpdate&&!1===v.shouldComponentUpdate(k,v.__s,E)||n.__v===e.__v)){for(n.__v!==e.__v&&(v.props=k,v.state=v.__s,v.__d=!1),n.__e=e.__e,n.__k=e.__k,n.__k.forEach((function(t){t&&(t.__=n)})),H=0;H<v._sb.length;H++)v.__h.push(v._sb[H]);v._sb=[],v.__h.length&&u.push(v);break t}null!=v.componentWillUpdate&&v.componentWillUpdate(k,v.__s,E),null!=v.componentDidUpdate&&v.__h.push((function(){v.componentDidUpdate(d,b,g)}))}if(v.context=E,v.props=k,v.__P=t,v.__e=!1,N=i.__r,U=0,"prototype"in $&&$.prototype.render){for(v.state=v.__s,v.__d=!1,N&&N(n),c=v.render(v.props,v.state,v.context),P=0;P<v._sb.length;P++)v.__h.push(v._sb[P]);v._sb=[]}else do{v.__d=!1,N&&N(n),c=v.render(v.props,v.state,v.context),v.state=v.__s}while(v.__d&&++U<25);v.state=v.__s,null!=v.getChildContext&&(_=h(h({},_),v.getChildContext())),p||null==v.getSnapshotBeforeUpdate||(g=v.getSnapshotBeforeUpdate(d,b)),x(t,a(C=null!=c&&c.type===y&&null==c.key?c.props.children:c)?C:[C],n,e,_,o,r,u,f,l,s),v.base=n.__e,n.__h=null,v.__h.length&&u.push(v),S&&(v.__E=v.__=null)}else null==r&&n.__v===e.__v?(n.__k=e.__k,n.__e=e.__e):n.__e=O(e.__e,n,e,_,o,r,u,l,s);(c=i.diffed)&&c(n)}catch(t){n.__v=null,(l||null!=r)&&(n.__e=f,n.__h=!!l,r[r.indexOf(f)]=null),i.__e(t,n,e)}}function T(t,n,e){for(var _=0;_<e.length;_++)D(e[_],e[++_],e[++_]);i.__c&&i.__c(n,t),t.some((function(n){try{t=n.__h,n.__h=[],t.some((function(t){t.call(n)}))}catch(t){i.__e(t,n.__v)}}))}function O(t,n,i,_,o,r,u,f,s){var c,h,p,d=i.props,y=n.props,m=n.type,g=0;if("svg"===m&&(o=!0),null!=r)for(;g<r.length;g++)if((c=r[g])&&"setAttribute"in c==!!m&&(m?c.localName===m:3===c.nodeType)){t=c,r[g]=null;break}if(null==t){if(null===m)return document.createTextNode(y);t=o?document.createElementNS("http://www.w3.org/2000/svg",m):document.createElement(m,y.is&&y),r=null,f=!1}if(null===m)d===y||f&&t.data===y||(t.data=y);else{if(r=r&&e.call(t.childNodes),h=(d=i.props||l).dangerouslySetInnerHTML,p=y.dangerouslySetInnerHTML,!f){if(null!=r)for(d={},g=0;g<t.attributes.length;g++)d[t.attributes[g].name]=t.attributes[g].value;(p||h)&&(p&&(h&&p.__html==h.__html||p.__html===t.innerHTML)||(t.innerHTML=p&&p.__html||""))}if(function(t,n,e,i,_){var o;for(o in e)"children"===o||"key"===o||o in n||U(t,o,null,e[o],i);for(o in n)_&&"function"!=typeof n[o]||"children"===o||"key"===o||"value"===o||"checked"===o||e[o]===n[o]||U(t,o,n[o],e[o],i)}(t,y,d,o,f),p)n.__k=[];else if(x(t,a(g=n.props.children)?g:[g],n,i,_,o&&"foreignObject"!==m,r,u,r?r[0]:i.__k&&b(i,0),f,s),null!=r)for(g=r.length;g--;)null!=r[g]&&v(r[g]);f||("value"in y&&void 0!==(g=y.value)&&(g!==t.value||"progress"===m&&!g||"option"===m&&g!==d.value)&&U(t,"value",g,d.value,!1),"checked"in y&&void 0!==(g=y.checked)&&g!==t.checked&&U(t,"checked",g,d.checked,!1))}return t}function D(t,n,e){try{"function"==typeof t?t(n):t.current=n}catch(t){i.__e(t,e)}}function A(t,n,e){var _,o;if(i.unmount&&i.unmount(t),(_=t.ref)&&(_.current&&_.current!==t.__e||D(_,null,n)),null!=(_=t.__c)){if(_.componentWillUnmount)try{_.componentWillUnmount()}catch(t){i.__e(t,n)}_.base=_.__P=null,t.__c=void 0}if(_=t.__k)for(o=0;o<_.length;o++)_[o]&&A(_[o],n,e||"function"!=typeof t.type);e||null==t.__e||v(t.__e),t.__=t.__e=t.__d=void 0}function M(t,n,e){return this.constructor(t,e)}function j(t,n,_){var o,r,u,f;i.__&&i.__(t,n),r=(o="function"==typeof _)?null:_&&_.__k||n.__k,u=[],f=[],$(n,t=(!o&&_||n).__k=p(y,null,[t]),r||l,l,void 0!==n.ownerSVGElement,!o&&_?[_]:r?null:n.firstChild?e.call(n.childNodes):null,u,!o&&_?_:r?r.__e:n.firstChild,o,f),T(u,t,f)}e=s.slice,i={__e:function(t,n,e,i){for(var _,o,r;n=n.__;)if((_=n.__c)&&!_.__)try{if((o=_.constructor)&&null!=o.getDerivedStateFromError&&(_.setState(o.getDerivedStateFromError(t)),r=_.__d),null!=_.componentDidCatch&&(_.componentDidCatch(t,i||{}),r=_.__d),r)return _.__E=_}catch(n){t=n}throw t}},_=0,m.prototype.setState=function(t,n){var e;e=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=h({},this.state),"function"==typeof t&&(t=t(h({},e),this.props)),t&&h(e,t),null!=t&&this.__v&&(n&&this._sb.push(n),S(this))},m.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),S(this))},m.prototype.render=y,o=[],u="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,f=function(t,n){return t.__v.__b-n.__v.__b},k.__r=0;var F,L,V,W,R=0,q=[],B=[],I=i.__b,G=i.__r,z=i.diffed,J=i.__c,K=i.unmount;function Q(t,n){i.__h&&i.__h(L,t,R||n),R=0;var e=L.__H||(L.__H={__:[],__h:[]});return t>=e.__.length&&e.__.push({__V:B}),e.__[t]}function X(t){return R=1,function(t,n,e){var i=Q(F++,2);if(i.t=t,!i.__c&&(i.__=[ft(void 0,n),function(t){var n=i.__N?i.__N[0]:i.__[0],e=i.t(n,t);n!==e&&(i.__N=[e,i.__[1]],i.__c.setState({}))}],i.__c=L,!L.u)){var _=function(t,n,e){if(!i.__c.__H)return!0;var _=i.__c.__H.__.filter((function(t){return t.__c}));if(_.every((function(t){return!t.__N})))return!o||o.call(this,t,n,e);var r=!1;return _.forEach((function(t){if(t.__N){var n=t.__[0];t.__=t.__N,t.__N=void 0,n!==t.__[0]&&(r=!0)}})),!(!r&&i.__c.props===t)&&(!o||o.call(this,t,n,e))};L.u=!0;var o=L.shouldComponentUpdate,r=L.componentWillUpdate;L.componentWillUpdate=function(t,n,e){if(this.__e){var i=o;o=void 0,_(t,n,e),o=i}r&&r.call(this,t,n,e)},L.shouldComponentUpdate=_}return i.__N||i.__}(ft,t)}function Y(t,n){var e=Q(F++,3);!i.__s&&ut(e.__H,n)&&(e.__=t,e.i=n,L.__H.__h.push(e))}function Z(t){return R=5,tt((function(){return{current:t}}),[])}function tt(t,n){var e=Q(F++,7);return ut(e.__H,n)?(e.__V=t(),e.i=n,e.__h=t,e.__V):e.__}function nt(t,n){return R=8,tt((function(){return t}),n)}function et(){for(var t;t=q.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(ot),t.__H.__h.forEach(rt),t.__H.__h=[]}catch(n){t.__H.__h=[],i.__e(n,t.__v)}}i.__b=function(t){L=null,I&&I(t)},i.__r=function(t){G&&G(t),F=0;var n=(L=t.__c).__H;n&&(V===L?(n.__h=[],L.__h=[],n.__.forEach((function(t){t.__N&&(t.__=t.__N),t.__V=B,t.__N=t.i=void 0}))):(n.__h.forEach(ot),n.__h.forEach(rt),n.__h=[],F=0)),V=L},i.diffed=function(t){z&&z(t);var n=t.__c;n&&n.__H&&(n.__H.__h.length&&(1!==q.push(n)&&W===i.requestAnimationFrame||((W=i.requestAnimationFrame)||_t)(et)),n.__H.__.forEach((function(t){t.i&&(t.__H=t.i),t.__V!==B&&(t.__=t.__V),t.i=void 0,t.__V=B}))),V=L=null},i.__c=function(t,n){n.some((function(t){try{t.__h.forEach(ot),t.__h=t.__h.filter((function(t){return!t.__||rt(t)}))}catch(e){n.some((function(t){t.__h&&(t.__h=[])})),n=[],i.__e(e,t.__v)}})),J&&J(t,n)},i.unmount=function(t){K&&K(t);var n,e=t.__c;e&&e.__H&&(e.__H.__.forEach((function(t){try{ot(t)}catch(t){n=t}})),e.__H=void 0,n&&i.__e(n,e.__v))};var it="function"==typeof requestAnimationFrame;function _t(t){var n,e=function(){clearTimeout(i),it&&cancelAnimationFrame(n),setTimeout(t)},i=setTimeout(e,100);it&&(n=requestAnimationFrame(e))}function ot(t){var n=L,e=t.__c;"function"==typeof e&&(t.__c=void 0,e()),L=n}function rt(t){var n=L;t.__c=t.__(),L=n}function ut(t,n){return!t||t.length!==n.length||n.some((function(n,e){return n!==t[e]}))}function ft(t,n){return"function"==typeof n?n(t):n}function lt(){throw new Error("Cycle detected")}function st(){if(dt>1)dt--;else{for(var t,n=!1;void 0!==pt;){var e=pt;for(pt=void 0,yt++;void 0!==e;){var i=e.o;if(e.o=void 0,e.f&=-3,!(8&e.f)&&kt(e))try{e.c()}catch(e){n||(t=e,n=!0)}e=i}}if(yt=0,dt--,n)throw t}}function ct(t){if(dt>0)return t();dt++;try{return t()}finally{st()}}var at,ht,vt=void 0,pt=void 0,dt=0,yt=0,mt=0;function bt(t){if(void 0!==vt){var n=t.n;if(void 0===n||n.t!==vt)return n={i:0,S:t,p:vt.s,n:void 0,t:vt,e:void 0,x:void 0,r:n},void 0!==vt.s&&(vt.s.n=n),vt.s=n,t.n=n,32&vt.f&&t.S(n),n;if(-1===n.i)return n.i=0,void 0!==n.n&&(n.n.p=n.p,void 0!==n.p&&(n.p.n=n.n),n.p=vt.s,n.n=void 0,vt.s.n=n,vt.s=n),n}}function gt(t){this.v=t,this.i=0,this.n=void 0,this.t=void 0}function St(t){return new gt(t)}function kt(t){for(var n=t.s;void 0!==n;n=n.n)if(n.S.i!==n.i||!n.S.h()||n.S.i!==n.i)return!0;return!1}function xt(t){for(var n=t.s;void 0!==n;n=n.n){var e=n.S.n;if(void 0!==e&&(n.r=e),n.S.n=n,n.i=-1,void 0===n.n){t.s=n;break}}}function wt(t){for(var n=t.s,e=void 0;void 0!==n;){var i=n.p;-1===n.i?(n.S.U(n),void 0!==i&&(i.n=n.n),void 0!==n.n&&(n.n.p=i)):e=n,n.S.n=n.r,void 0!==n.r&&(n.r=void 0),n=i}t.s=e}function Et(t){gt.call(this,void 0),this.x=t,this.s=void 0,this.g=mt-1,this.f=4}function Ht(t){return new Et(t)}function Nt(t){var n=t.u;if(t.u=void 0,"function"==typeof n){dt++;var e=vt;vt=void 0;try{n()}catch(n){throw t.f&=-2,t.f|=8,Ut(t),n}finally{vt=e,st()}}}function Ut(t){for(var n=t.s;void 0!==n;n=n.n)n.S.U(n);t.x=void 0,t.s=void 0,Nt(t)}function Pt(t){if(vt!==this)throw new Error("Out-of-order effect");wt(this),vt=t,this.f&=-2,8&this.f&&Ut(this),st()}function Ct(t){this.x=t,this.u=void 0,this.s=void 0,this.o=void 0,this.f=32}function $t(t){var n=new Ct(t);try{n.c()}catch(t){throw n.d(),t}return n.d.bind(n)}function Tt(t,n){i[t]=n.bind(null,i[t]||function(){})}function Ot(t){ht&&ht(),ht=t&&t.S()}function Dt(t){var n=this,e=t.data,i=Mt(e);i.value=e;var _=tt((function(){for(var t=n.__v;t=t.__;)if(t.__c){t.__c.__$f|=4;break}return n.__$u.c=function(){n.base.data=_.peek()},Ht((function(){var t=i.value.value;return 0===t?0:!0===t?"":t||""}))}),[]);return _.value}function At(t,n,e,i){var _=n in t&&void 0===t.ownerSVGElement,o=St(e);return{o:function(t,n){o.value=t,i=n},d:$t((function(){var e=o.value.value;i[n]!==e&&(i[n]=e,_?t[n]=e:e?t.setAttribute(n,e):t.removeAttribute(n))}))}}function Mt(t){return tt((function(){return St(t)}),[])}function jt(t){var n=Z(t);return n.current=t,at.__$f|=4,tt((function(){return Ht((function(){return n.current()}))}),[])}function Ft(t){var n=Z(t);n.current=t,Y((function(){return $t((function(){return n.current()}))}),[])}gt.prototype.h=function(){return!0},gt.prototype.S=function(t){this.t!==t&&void 0===t.e&&(t.x=this.t,void 0!==this.t&&(this.t.e=t),this.t=t)},gt.prototype.U=function(t){if(void 0!==this.t){var n=t.e,e=t.x;void 0!==n&&(n.x=e,t.e=void 0),void 0!==e&&(e.e=n,t.x=void 0),t===this.t&&(this.t=e)}},gt.prototype.subscribe=function(t){var n=this;return $t((function(){var e=n.value,i=32&this.f;this.f&=-33;try{t(e)}finally{this.f|=i}}))},gt.prototype.valueOf=function(){return this.value},gt.prototype.toString=function(){return this.value+""},gt.prototype.toJSON=function(){return this.value},gt.prototype.peek=function(){return this.v},Object.defineProperty(gt.prototype,"value",{get:function(){var t=bt(this);return void 0!==t&&(t.i=this.i),this.v},set:function(t){if(vt instanceof Et&&function(){throw new Error("Computed cannot have side-effects")}(),t!==this.v){yt>100&&lt(),this.v=t,this.i++,mt++,dt++;try{for(var n=this.t;void 0!==n;n=n.x)n.t.N()}finally{st()}}}}),(Et.prototype=new gt).h=function(){if(this.f&=-3,1&this.f)return!1;if(32==(36&this.f))return!0;if(this.f&=-5,this.g===mt)return!0;if(this.g=mt,this.f|=1,this.i>0&&!kt(this))return this.f&=-2,!0;var t=vt;try{xt(this),vt=this;var n=this.x();(16&this.f||this.v!==n||0===this.i)&&(this.v=n,this.f&=-17,this.i++)}catch(t){this.v=t,this.f|=16,this.i++}return vt=t,wt(this),this.f&=-2,!0},Et.prototype.S=function(t){if(void 0===this.t){this.f|=36;for(var n=this.s;void 0!==n;n=n.n)n.S.S(n)}gt.prototype.S.call(this,t)},Et.prototype.U=function(t){if(void 0!==this.t&&(gt.prototype.U.call(this,t),void 0===this.t)){this.f&=-33;for(var n=this.s;void 0!==n;n=n.n)n.S.U(n)}},Et.prototype.N=function(){if(!(2&this.f)){this.f|=6;for(var t=this.t;void 0!==t;t=t.x)t.t.N()}},Et.prototype.peek=function(){if(this.h()||lt(),16&this.f)throw this.v;return this.v},Object.defineProperty(Et.prototype,"value",{get:function(){1&this.f&&lt();var t=bt(this);if(this.h(),void 0!==t&&(t.i=this.i),16&this.f)throw this.v;return this.v}}),Ct.prototype.c=function(){var t=this.S();try{if(8&this.f)return;if(void 0===this.x)return;var n=this.x();"function"==typeof n&&(this.u=n)}finally{t()}},Ct.prototype.S=function(){1&this.f&&lt(),this.f|=1,this.f&=-9,Nt(this),xt(this),dt++;var t=vt;return vt=this,Pt.bind(this,t)},Ct.prototype.N=function(){2&this.f||(this.f|=2,this.o=pt,pt=this)},Ct.prototype.d=function(){this.f|=8,1&this.f||Ut(this)},Dt.displayName="_st",Object.defineProperties(gt.prototype,{constructor:{configurable:!0,value:void 0},type:{configurable:!0,value:Dt},props:{configurable:!0,get:function(){return{data:this}}},__b:{configurable:!0,value:1}}),Tt("__b",(function(t,n){if("string"==typeof n.type){var e,i=n.props;for(var _ in i)if("children"!==_){var o=i[_];o instanceof gt&&(e||(n.__np=e={}),e[_]=o,i[_]=o.peek())}}t(n)})),Tt("__r",(function(t,n){Ot();var e,i=n.__c;i&&(i.__$f&=-2,void 0===(e=i.__$u)&&(i.__$u=e=function(t){var n;return $t((function(){n=this})),n.c=function(){i.__$f|=1,i.setState({})},n}())),at=i,Ot(e),t(n)})),Tt("__e",(function(t,n,e,i){Ot(),at=void 0,t(n,e,i)})),Tt("diffed",(function(t,n){var e;if(Ot(),at=void 0,"string"==typeof n.type&&(e=n.__e)){var i=n.__np,_=n.props;if(i){var o=e.U;if(o)for(var r in o){var u=o[r];void 0===u||r in i||(u.d(),o[r]=void 0)}else e.U=o={};for(var f in i){var l=o[f],s=i[f];void 0===l?(l=At(e,f,s,_),o[f]=l):l.o(s,_)}}}t(n)})),Tt("unmount",(function(t,n){if("string"==typeof n.type){var e=n.__e;if(e){var i=e.U;if(i)for(var _ in e.U=void 0,i){var o=i[_];o&&o.d()}}}else{var r=n.__c;if(r){var u=r.__$u;u&&(r.__$u=void 0,u.d())}}t(n)})),Tt("__h",(function(t,n,e,i){(i<3||9===i)&&(n.__$f|=2),t(n,e,i)})),m.prototype.shouldComponentUpdate=function(t,n){var e=this.__$u;if(!(e&&void 0!==e.s||4&this.__$f))return!0;if(3&this.__$f)return!0;for(var i in n)return!0;for(var _ in t)if("__source"!==_&&t[_]!==this.props[_])return!0;for(var o in this.props)if(!(o in t))return!0;return!1};const Lt=St(!1);return document.addEventListener("DOMContentLoaded",(()=>{Lt.value=!0})),n})()));var xtyle=function(e){"use strict";var t=Object.defineProperty,r=(e,r,n)=>(((e,r,n)=>{r in e?t(e,r,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[r]=n})(e,"symbol"!=typeof r?r+"":r,n),n);const{signal:n,effect:s,computed:o,useSignal:i,useSignalEffect:c,useComputed:a}=preact;function l(e,t=!0){const r=(e=>"object"==typeof e?Array.isArray(e)?Array:Object:null)(e),l=t?i(e):n(e);return l.update=e=>{if(r===Array){let t=[...l.value];e(t),l.value=t}else if(r===Object){let t={...l.value};e(t),l.value=t}else l.value=e},l.computed=t?a:o,l.effect=t?c:s,l.reset=()=>l.value=e,l}const u=l,p=e=>l(e,!1),d=p({x:window.innerWidth,y:window.innerHeight});window.addEventListener("resize",(()=>{d.value={x:window.innerWidth,y:window.innerHeight}}));const{useEffect:f,useRef:m,useCallback:v}=preact,y="gui-design";function g(e){return e.replace(/\s\s+/g," ").replace(/\r?\n|\r/g,"").trim()}const w=e=>"string"==typeof e?e.trim():"object"==typeof e?Array.isArray(e)?e.map(w).join(" ").trim():Object.keys(e).filter((t=>!0===e[t])).join(" ").trim():"";function b(e){return e.replace(/(?:^\w|[A-Z]|\b\w|\s+)/g,((e,t)=>0==+e?"":0===t?e.toLowerCase():e.toUpperCase())).replace(/[^\w]+/g,"").replace(/^\w/,(e=>e.toLowerCase()))}const _={camel:b,slug:function(e,t=!0){return e=(e=e.replace(/^\s+|\s+$/g,"")).toLowerCase(),e=(e=t?e.replace(/[^a-z0-9 -]/g,""):e.replace(/[^a-z -]/g,"")).replace(/\s+/g,"-").replace(/-+/g,"-")},lower:function(e){return e.toLowerCase()},upper:function(e){return e.toUpperCase()},title:function(e){return e.replace(/\w\S*/g,(e=>e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()))},pascal:function(e){return e.replace(/(?:^\w|[A-Z]|\b\w|\s+)/g,((e,t)=>0==+e?"":0===t?e.toLowerCase():e.toUpperCase())).replace(/[^\w-]+/g,"").replace(/\w\S*/g,(e=>e.charAt(0).toUpperCase()+e.substr(1)))}},L={inject:(e,t="main")=>function({code:e,id:t}){const r=function(e){const t=window.document.querySelectorAll(`[${y}="${e}"]`);if(t.length>0)return t[0];{const t=window.document.createElement("style");return t.setAttribute(y,e),window.document.head.append(t),t}}(t);r.textContent=g(e)}({code:e,id:t}),form:function(e){const t={};for(const r in e)if(e.hasOwnProperty(r)){const n=e[r];t[r]="function"==typeof n?n():n}return t},ref:function e(t=void 0){const r=t||m(null);return{get $(){return r},get current(){return r.current},set current(e){r.current=e},contains(e){var t;try{return(null==(t=this.current)?void 0:t.classList.contains(e))||!1}catch{return!1}},find(t){var r;try{let n=null==(r=this.current)?void 0:r.querySelectorAll(t);return n?Array.from(n).map((t=>e({current:t}))):[]}catch{return[]}},get(t){var r;try{let n=null==(r=this.current)?void 0:r.querySelector(t);return n?e({current:n}):null}catch{return null}},add(...e){try{this.__add(...e)}catch{}},remove(...e){try{this.__remove(...e)}catch{}},toggle(e,t=null){try{this.__toggle(t,...e)}catch{}},__add(...e){(e=[...e]).forEach((e=>{var t;null==(t=this.current)||t.classList.add(e)}))},__remove(...e){(e=[...e]).forEach((e=>{var t;null==(t=this.current)||t.classList.remove(e)}))},__toggle(e,...t){(t=[...t]).forEach((t=>{var r,n;null===e?null==(r=this.current)||r.classList.toggle(t):null==(n=this.current)||n.classList.toggle(t,e)}))}}},class:w,style:function e(t){return"string"==typeof t?((t=t.trim()).endsWith(";;")&&(t=t.slice(0,-1)),t):"object"==typeof t?Array.isArray(t)?t.map(e).join(" ").trim():Object.keys(t).filter((e=>t[e])).map((e=>`${e}: ${t[e]};`)).join(" ").trim():""},props:(e,t)=>{const r={};return Object.entries(t?t.$values(e):e).map((([e,t])=>r[b(e)]=t)),r},slots:function(e,t="slot"){const r={};return e.children&&(Array.isArray(e.children)?e.children:[e.children]).forEach((e=>{if("object"==typeof e&&e&&e.props){const n=e.props[t];n?r[b(n)]=e:r.default=e}})),r.$=e=>{const t=r[e]||{};return t.props&&t.props.children?t.props.children:null},r.$all=Object.values(r),r.$keys=Object.keys(r).filter((e=>!["$","$all"].includes(e))),r},event:function(e,t,r,n=[],s={}){return f((()=>{const n="current"in e?e.current:e;return n.addEventListener(t,r,s),()=>{n.removeEventListener(t,r)}}),n),v(r,n)},events:Object.freeze({click:"onClick","dbl-click":"onDblClick","context-menu":"onContextMenu","mouse-down":"onMouseDown","mouse-up":"onMouseUp","mouse-enter":"onMouseEnter","mouse-leave":"onMouseLeave","mouse-move":"onMouseMove","key-down":"onKeyDown","key-up":"onKeyUp","key-press":"onKeyPress",focus:"onFocus",blur:"onBlur",change:"onChange",input:"onInput",submit:"onSubmit","touch-start":"onTouchStart","touch-move":"onTouchMove","touch-end":"onTouchEnd","touch-cancel":"onTouchCancel",wheel:"onWheel",scroll:"onScroll",copy:"onCopy",cut:"onCut",paste:"onPaste","composition-start":"onCompositionStart","composition-update":"onCompositionUpdate","composition-end":"onCompositionEnd",load:"onLoad",error:"onError","animation-start":"onAnimationStart","animation-end":"onAnimationEnd","animation-iteration":"onAnimationIteration","transition-end":"onTransitionEnd"})},E="__a",k="__q";class C{constructor(e){if(r(this,"routerHandler"),r(this,"baseURL"),r(this,"history"),r(this,"find"),r(this,"routes"),r(this,"searchArgs"),r(this,"$current"),this.routerHandler=()=>{const t=this.find();this.$current.value=t,"function"==typeof e.callback&&e.callback()},this.baseURL=e.baseURL||"/",this.history=e.history||!1,this.$current=p({}),window.onpopstate=this.routerHandler,Array.isArray(e.routes)){const t={};e.routes.forEach((e=>{t[e]=null})),this.routes=t}else this.routes=e.routes||{};this.find=function(e,t=!0){return(r="")=>function(e,t=!0,r){let n=r;n||(n=t?window.location.pathname:window.location.hash.slice(1));const s=function(e,t){""===e&&(e="/"),e.includes("?")&&(e=e.split("?")[0]);for(const r in t){const n={},s=r.replace(/\{(\??)([^/]+?)(\*?)\}/g,((e,t,r,s)=>(n[r]=void 0,t?"([^/]*?)?":s?"(.*)":"([^/]+)"))),o=e.match(new RegExp(`^${s}$`));if(o){if(o.length>1){const e=Object.keys(n);[...Array(o.length).keys()].map((t=>{if(t>0){const r=e[t-1];n[r]=o[t]}}))}const e=t[r];return new A({view:e,arg:n})}}return new A({})}(n,e),o=n.split("?");s.path=o[0];const i=2===o.length?o[1]:null;return s.search=$(i||window.location.search),s}(e,t,r)}(this.routes,this.history),this.searchArgs=j}static init(e){return new C(e)}get current(){return this.$current.value}computed(...e){return this.$current.computed(...e)}effect(...e){return this.$current.effect(...e)}go(e="",t={}){var r,n,s;const o=window.event;if(o)try{null==(r=o.preventDefault)||r.call(o),null==(n=o.stopPropagation)||n.call(o),null==(s=o.stopImmediatePropagation)||s.call(o)}catch{}(e=`${this.baseURL}${e}`).startsWith("/")||(e="/"+e),e=e.replace("//","/"),Object.keys(t).length>0&&(e+=j(t)),this.history?window.history.pushState({},"",e):window.history.pushState({},"","/#"+e),this.routerHandler()}}class A{constructor(e){r(this,"view"),r(this,"arg"),r(this,"path"),r(this,"search"),this.view=null,this.arg={},this.path=null,this.search={},Object.assign(this,e)}}function $(e){const t=new URLSearchParams(e),r={};return t.forEach(((e,t)=>{r[t]=e})),r}function j(e){const t=Object.keys(e||{}),r={};return t.length>0?(t.includes("$query")&&t.includes("$action")&&(r[E]=e.$action,r[k]=JSON.stringify(e.$query),delete e.$query,delete e.$action),"?"+new URLSearchParams({...r,...e}).toString()):""}const{signal:x,computed:S,effect:O}=preact;class M{constructor(e){r(this,"stateList",x([])),r(this,"stateForm",x({})),r(this,"stateMode",x("list")),r(this,"keys"),r(this,"resourceName"),this.keys=e.keys?Object.freeze(e.keys):[],this.resourceName=e.resourceName||"app.model"}get info(){const e=this.resourceName.split(".");return{uri:this.resourceName,app:e[0],model:e[1],keys:[...this.keys]}}get recordList(){return[...this.stateList.value]}get mode(){return this.stateMode.value}set mode(e){this.stateMode.value=e}get form(){return{...this.stateForm.value}}set form(e){this.stateForm.value=e}get list(){return this.recordList}set list(e){Array.isArray(e)&&(this.stateList.value=e)}computed(e){return S((()=>e(this)))}effect(e){return O((()=>e(this)))}updateList(e){const t=[...this.stateList.value||[]];e(t,this),Array.isArray(t)&&(this.stateList.value=t)}updateForm(e){const t={...this.stateForm.value||{}};e(t,this),this.stateForm.value=t}head(e=10){return this.list.slice(0,e)}tail(e=10){return this.list.slice(-e)}by(e="id"){return W(e,this.list)}sort(...e){return this.list.slice().sort(U(...e))}groupBy(e="account_id"){return R(this.list,e)}find(e,t){return this.list.filter((r=>r[e]===t))}findNot(e,t){return this.list.filter((r=>r[e]!==t))}search(e,t,r=!0){let n=[];return Array.isArray(e)?e.forEach((e=>{n=n.concat(P(this.list,e,t,r))})):n=P(this.list,e,t,r),n}searchNot(e,t,r=!0){let n=[];return Array.isArray(e)?e.forEach((e=>{n=n.concat(q(this.list,e,t,r))})):n=q(this.list,e,t,r),n}dirtyList(e){return N(this.list,e)}dirtyForm(e){return T(this.form,e)}}const N=(e,t)=>JSON.stringify(e)===JSON.stringify(t)?[]:t.filter(((t,r)=>JSON.stringify(t)!==JSON.stringify(e[r]))),T=(e,t)=>{const r={};return Object.keys(e).forEach((n=>{e[n]!==t[n]&&(r[n]=t[n])})),r},z=e=>{let t=1;return"-"===e[0]&&(t=-1,e=e.substr(1)),(r,n)=>(r[e]<n[e]?-1:r[e]>n[e]?1:0)*t},U=(...e)=>(t,r)=>{let n=0,s=0;const o=e.length;for(;0===n&&s<o;)n=z(e[s])(t,r),s++;return n},P=(e,t,r,n)=>{const s=n?r.toLowerCase():r;return e.filter((e=>String(e[t]).toLowerCase().includes(s)))},q=(e,t,r,n)=>{const s=n?r.toLowerCase():r;return e.filter((e=>!String(e[t]).toLowerCase().includes(s)))},R=(e,t)=>e.reduce(((e,r)=>{const n=r[t];return e[n]=e[n]||[],e[n].push(r),e}),{}),W=(e,t)=>t.reduce(((t,r)=>(t[r[e]]=r,t)),{});function H(e,t={}){return H.model[e]||(H.model[e]=new M({...t,resourceName:e})),H.model[e]}H.model={};const{useEffect:F,useRef:D}=preact,I=e=>"function"==typeof e;const K=e=>{const t=t=>((e,t,r)=>{const n={};return Object.keys(e).forEach((s=>{r(s)&&(n[s.slice(t).trim()]=e[s])})),n})(e,t.length,(e=>e.startsWith(t))),r=t("x-"),n=t("hook-"),s=t("css-"),o=(e=>{const t={};return Object.keys(e).forEach((r=>{if(r.startsWith("on-")){const n=r.slice(3).trim(),s=L.events[n];t[s||n]=e[r]}})),t})(e);return{custom:r,on:o,hook:n,css:s}},B=e=>{if(Array.isArray(e))return e;if("string"==typeof e){const t=g(e);return t.includes(" ")?t.split(" "):[e]}return[]},J="ripple-effect__container",X="ripple-effect__animation",Y="ripple-effect__animation--enter",Z="ripple-effect__animation--visible",G="ripple-effect__animation--start",Q="ripple-effect__animation--end";function V(e,t){e.style.transform=t,e.style.webkitTransform=t}function ee(e,t){e.style.opacity=t.toString()}function te(e){return e instanceof TouchEvent}const re={show(e,t,r={}){if(!t._ripple||!t._ripple.enabled)return;const n=document.createElement("span"),s=document.createElement("span");n.appendChild(s),n.className=J,r.class&&(n.className+=` ${r.class}`);const{radius:o,scale:i,x:c,y:a,centerX:l,centerY:u}=function(e,t,r={}){const n=t.getBoundingClientRect(),s=te(e)?e.touches[e.touches.length-1]:e,o=s.clientX-n.left,i=s.clientY-n.top;let c=0,a=.3;t._ripple&&t._ripple.circle?(a=.15,c=t.clientWidth/2,c=r.center?c:c+Math.sqrt((o-c)**2+(i-c)**2)/4):c=Math.sqrt(t.clientWidth**2+t.clientHeight**2)/2;const l=(t.clientWidth-2*c)/2+"px",u=(t.clientHeight-2*c)/2+"px";return{radius:c,scale:a,x:r.center?l:o-c+"px",y:r.center?u:i-c+"px",centerX:l,centerY:u}}(e,t,r),p=2*o+"px";s.className=X,s.style.width=p,s.style.height=p,t._ripple&&t._ripple.color&&(s.style.color=t._ripple.color),t.appendChild(n);const d=window.getComputedStyle(t);d&&"static"===d.position&&(t.style.position="relative",t.dataset.previousPosition="static"),s.classList.add(Y),s.classList.add(Z),V(s,`translate(${c}, ${a}) scale3d(${i},${i},${i})`),ee(s,0),s.dataset.activated=String(performance.now()),setTimeout((()=>{s.classList.remove(Y),s.classList.add(G),V(s,`translate(${l}, ${u}) scale3d(1,1,1)`),ee(s,.25)}),0)},hide(e){if(!e||!e._ripple||!e._ripple.enabled)return;const t=e.getElementsByClassName(X);if(0===t.length)return;const r=t[t.length-1];if(r.dataset.isHiding)return;r.dataset.isHiding="true";const n=performance.now()-Number(r.dataset.activated),s=Math.max(250-n,0);setTimeout((()=>{r.classList.remove(G),r.classList.add(Q),ee(r,0),setTimeout((()=>{1===e.getElementsByClassName(X).length&&e.dataset.previousPosition&&(e.style.position=e.dataset.previousPosition,delete e.dataset.previousPosition),r.parentNode&&e.removeChild(r.parentNode)}),300)}),s)}};function ne(e){const t={},r=e.currentTarget;if(r&&r._ripple&&!r._ripple.touched){if(te(e))r._ripple.touched=!0,r._ripple.isTouch=!0;else if(r._ripple.isTouch)return;t.center=r._ripple.centered,r._ripple.class&&(t.class=r._ripple.class),re.show(e,r,t)}}function se(e){const t=e.currentTarget;t&&(window.setTimeout((()=>{t._ripple&&(t._ripple.touched=!1)})),re.hide(t))}function oe(e,t,r){const n=function(e){return typeof e>"u"||!!e}(t);n||re.hide(e),e._ripple=e._ripple||{},e._ripple.enabled=n,t&&(e._ripple.centered=!!t.centered,e._ripple.class=t.class,e._ripple.circle=!!t.circle,e._ripple.color=t.color),n&&!r?(e.addEventListener("touchstart",ne,{passive:!0}),e.addEventListener("touchend",se,{passive:!0}),e.addEventListener("touchcancel",se),e.addEventListener("mousedown",ne),e.addEventListener("mouseup",se),e.addEventListener("mouseleave",se),e.addEventListener("dragstart",se,{passive:!0})):!n&&r&&function(e){e.removeEventListener("mousedown",ne),e.removeEventListener("touchstart",se),e.removeEventListener("touchend",se),e.removeEventListener("touchcancel",se),e.removeEventListener("mouseup",se),e.removeEventListener("mouseleave",se),e.removeEventListener("dragstart",se)}(e)}const ie={css:".ripple-effect__animation,.ripple-effect__container{color:inherit;position:absolute;top:0;left:0;pointer-events:none;overflow:hidden}.ripple-effect__container{border-radius:inherit;width:100%;height:100%;z-index:0;contain:strict}.ripple-effect__animation{border-radius:50%;background:currentColor;opacity:0;will-change:transform,opacity}.ripple-effect__animation--enter{transition:none}.ripple-effect__animation--start{transition:transform .25s cubic-bezier(.4, 0, .2, 1),opacity .1s cubic-bezier(.4, 0, .2, 1)}.ripple-effect__animation--end{transition:opacity .3s cubic-bezier(.4, 0, .2, 1)}",directive:(e,t)=>oe(e,t,!1)},{useEffect:ce,useRef:ae}=preact,le="xtyle__hide";L.inject(ie.css,"xtyle-ripple"),L.inject(`.${le}{ display: none !important; }`,"xtyle-hide");const ue=["key","id","class","style","type","name","placeholder","checked","step","pattern","readonly","required","rows","cols","href","src","alt"],pe=["html","fragment","tag","switch","case","fallback","fallback:is","for","in","if","show","live","portal","ripple","value:clean"],de=(e,t,r,n)=>({self:e,props:t,event:r,...n||{}}),he={ref:e=>{const t=e.directives.custom.ref;ce((()=>{t&&t(e.ref)}),[e.ref])},value:(e,t)=>{const r=e.directives.custom.tag,n=e.directives.custom.value,s=e.directives.custom["value:clean"],o=t.onInput?t.onInput:null;["input","textarea","select","progress"].includes(r)&&(t.onInput=e=>{if(s){const t=s(e.target.value);n.value=t,e.target.value=t}else n.value=e.target.value;o&&o(e)})},scroll:(e,t)=>{const r=e.directives.custom.scroll;L.event(e.ref,"scroll",(n=>{const s=de(e,t,n,{value:{x:n.target.scrollLeft,y:n.target.scrollTop}});r(s)}),[e.ref,r,t])},hover:(e,t)=>{const r=e.directives.custom.hover,n={...t};t.onMouseEnter=s=>{const o=de(e,t,s,{value:!0});r(o),n.onMouseEnter&&n.onMouseEnter(s)},t.onMouseLeave=s=>{const o=de(e,t,s,{value:!1});r(o),n.onMouseLeave&&n.onMouseLeave(s)}},swipe:(e,t)=>{const r=e.directives.custom.swipe;!function(e){const t=ae(null),r=ae(null);ce((()=>{const n=e=>{t.current=e.touches[0].clientX,r.current=e.touches[0].clientY},s=n=>{if(!t.current||!r.current)return;const s=n.changedTouches[0].clientX,o=n.changedTouches[0].clientY,i=s-t.current,c=o-r.current,a=50;(Math.abs(i)>a||Math.abs(c)>a)&&(Math.abs(i)>Math.abs(c)?e(i>0?"right":"left"):e(c>0?"bottom":"top")),t.current=null,r.current=null};return document.addEventListener("touchstart",n,{passive:!0}),document.addEventListener("touchend",s,{passive:!0}),()=>{document.removeEventListener("touchstart",n),document.removeEventListener("touchend",s)}}),[e])}((n=>{const s=de(e,t,null,{value:n});r(s)}))},resize:(e,t)=>{const r=e.directives.custom.resize;L.event(window,"resize",(n=>{const s=de(e,t,n);r(s)}),[e.ref,r,t])},"click-outside":(e,t)=>{const r=e.directives.custom["click-outside"];L.event(document,"click",(n=>{if(!e.ref.current.contains(n.target)){const s=de(e,t,n);r(s)}}),[e.ref,r,t])}};const{useEffect:fe,render:me,$ready:ve}=preact,ye=e=>null!=e&&""!==e;function ge(e,t,r){if(!t)return null;const n={...r.directives.on};r.directives.custom.ripple&&function(e,t){ce((()=>(!0===t.custom.ripple?ie.directive(e.current):t.custom.ripple&&ie.directive(e.current,t.custom.ripple),()=>{})),[e.current])}(r.ref,r.directives),ue.forEach((e=>{r.props[e]&&(n[e]=r.props[e])}));const s={ref:r.ref,...n,...r.props.attrs},o=Object.keys(r.directives.custom);return o.length>0&&o.forEach((t=>{if(!pe.includes(t))if(he[t]){(0,he[t])(r,s)}else{const n=e.directives[t];"function"==typeof n&&n(r,s)}})),s.class&&(s.class=L.class(s.class)),s.style&&(s.style=L.style(s.style)),h(t,s,r.props.children)}function we(e,t){I(e.hook.created)&&function(e){F((()=>{e()}),[])}((()=>{e.hook.created(t)})),I(e.hook.updated)&&function(e){const t=D(e);F((()=>{(0,t.current)()}))}((()=>{e.hook.updated(t)})),I(e.hook.removed)&&function(e){const t=D(e);F((()=>{const e=t.current;return()=>{e()}}),[])}((()=>{e.hook.removed(t)}))}function be(e){return function(t={}){const r=L.ref(),n=K(t),s=n.custom.tag||null,o={props:t,directives:n,ref:r};if(ye(n.custom.if)&&!1===n.custom.if)return null;if(n.custom.live)return n.custom.live(t);if(n.custom.fallback&&ye(n.custom["fallback:is"])&&!0===n.custom["fallback:is"])return n.custom.fallback;if(we(n,o),s)return function(e,t){fe((()=>{ye(e.css.is)&&(!0===e.css.is?(t.add(...B(e.css.on)),t.remove(...B(e.css.off))):(t.remove(...B(e.css.on)),t.add(...B(e.css.off))))}),[e.css.is])}(n,r),function(e,t){fe((()=>{ye(e.custom.show)&&(!0===e.custom.show?t.remove(le):t.add(le))}),[e.custom.show])}(n,r),ge(e,s,o);{const e=n.custom.portal;if(e)return function(e,t,r){if(e){if(ve.value){const n=document.querySelector(e);n&&fe((()=>{if(t.custom.fragment){const e=document.createDocumentFragment();me(r.children,e),n.appendChild(e)}else me(r.children,n)}),[])}return null}r.children}(e,n,t),null;const r=function(e){if("function"==typeof e.custom.for&&Array.isArray(e.custom.in)){const t=e.custom.in,r=e.custom.for;return t.map(r)}if("function"==typeof e.custom.for&&"number"==typeof e.custom.in){const t=e.custom.in,r=e.custom.for;return[...Array(t).keys()].map(r)}return null}(n);if(r)return r;const s=function(e,t){if(e.custom.switch){const r=e.custom.case;let n=null;return t.children.props["x-for"]&&t.children.props["x-in"]?n=t.children.props["x-in"].map(t.children.props["x-for"]).filter((e=>e.props.case===r)):Array.isArray(t.children)&&t.children.forEach((e=>{e.props&&e.props.case===r&&(n=e)})),n}return null}(n,t);if(s)return s}return t.children}}const _e={},Le={};e.base=null;const Ee=new class{constructor(){r(this,"base"),e.base=be(this)}toKebabCase(e){return e.toLowerCase().replace(/[^a-z-]/g,"")}get components(){return _e}get directives(){return Le}element(e){const t=this.toKebabCase(e);return e=>(_e[t]=e,e)}directive(e){const t=this.toKebabCase(e);return e=>(Le[t]=e,e)}h(t,r,...n){r=r||{};const s="string"==typeof t;if(s&&"x-slot"===t||r["x-html"]){let s="";return s="x-slot"===t?t.substring(2):t,preact.h(e.base,{"x-tag":"slot"===s?null:s,...r},...n)}if(s&&t.startsWith("x-")&&"x-slot"!==t){const e=t.substring(2),s=_e[e];return s?preact.h(s,r,...n):preact.h(e,r,...n)}return preact.h(t,r,...n)}},ke=(...e)=>Ee.element(...e),Ce=(...e)=>Ee.directive(...e);return e.allComponents=_e,e.allDirectives=Le,e.build=(e={},t=null)=>{const r={};return Object.keys(e).forEach((n=>{const s=(t?`${t}-`:"")+function(e){return e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}(n);r[s]=e[n]})),r},e.device=d,e.directive=Ce,e.element=ke,e.h=(...e)=>Ee.h(...e),e.model=H,e.router=function(e){return new C(e)},e.signal=p,e.stringTo=_,e.use=(e={})=>{const t=e||{};t.elements&&Object.keys(t.elements).forEach((e=>{ke(e)(t.elements[e])})),t.directives&&Object.keys(t.directives).forEach((e=>{Ce(e)(t.directives[e])}))},e.useSignal=u,e.util=L,e}({});
window.h=xtyle.h;  
